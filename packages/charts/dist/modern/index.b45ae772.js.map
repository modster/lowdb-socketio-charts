{"mappings":"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","sources":["packages/charts/socket.io.js"],"sourcesContent":["/*!\n * Socket.IO v4.4.1\n * (c) 2014-2022 Guillermo Rauch\n * Released under the MIT License.\n */\n(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n  typeof define === 'function' && define.amd ? define(factory) :\n  (global = typeof globalThis !== 'undefined' ? globalThis : global || self, global.io = factory());\n})(this, (function () { 'use strict';\n\n  function _typeof(obj) {\n    \"@babel/helpers - typeof\";\n\n    if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n      _typeof = function (obj) {\n        return typeof obj;\n      };\n    } else {\n      _typeof = function (obj) {\n        return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n      };\n    }\n\n    return _typeof(obj);\n  }\n\n  function _classCallCheck(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n      throw new TypeError(\"Cannot call a class as a function\");\n    }\n  }\n\n  function _defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  function _createClass(Constructor, protoProps, staticProps) {\n    if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) _defineProperties(Constructor, staticProps);\n    return Constructor;\n  }\n\n  function _extends() {\n    _extends = Object.assign || function (target) {\n      for (var i = 1; i < arguments.length; i++) {\n        var source = arguments[i];\n\n        for (var key in source) {\n          if (Object.prototype.hasOwnProperty.call(source, key)) {\n            target[key] = source[key];\n          }\n        }\n      }\n\n      return target;\n    };\n\n    return _extends.apply(this, arguments);\n  }\n\n  function _inherits(subClass, superClass) {\n    if (typeof superClass !== \"function\" && superClass !== null) {\n      throw new TypeError(\"Super expression must either be null or a function\");\n    }\n\n    subClass.prototype = Object.create(superClass && superClass.prototype, {\n      constructor: {\n        value: subClass,\n        writable: true,\n        configurable: true\n      }\n    });\n    if (superClass) _setPrototypeOf(subClass, superClass);\n  }\n\n  function _getPrototypeOf(o) {\n    _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n      return o.__proto__ || Object.getPrototypeOf(o);\n    };\n    return _getPrototypeOf(o);\n  }\n\n  function _setPrototypeOf(o, p) {\n    _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n      o.__proto__ = p;\n      return o;\n    };\n\n    return _setPrototypeOf(o, p);\n  }\n\n  function _isNativeReflectConstruct() {\n    if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n    if (Reflect.construct.sham) return false;\n    if (typeof Proxy === \"function\") return true;\n\n    try {\n      Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {}));\n      return true;\n    } catch (e) {\n      return false;\n    }\n  }\n\n  function _assertThisInitialized(self) {\n    if (self === void 0) {\n      throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n    }\n\n    return self;\n  }\n\n  function _possibleConstructorReturn(self, call) {\n    if (call && (typeof call === \"object\" || typeof call === \"function\")) {\n      return call;\n    } else if (call !== void 0) {\n      throw new TypeError(\"Derived constructors may only return object or undefined\");\n    }\n\n    return _assertThisInitialized(self);\n  }\n\n  function _createSuper(Derived) {\n    var hasNativeReflectConstruct = _isNativeReflectConstruct();\n\n    return function _createSuperInternal() {\n      var Super = _getPrototypeOf(Derived),\n          result;\n\n      if (hasNativeReflectConstruct) {\n        var NewTarget = _getPrototypeOf(this).constructor;\n\n        result = Reflect.construct(Super, arguments, NewTarget);\n      } else {\n        result = Super.apply(this, arguments);\n      }\n\n      return _possibleConstructorReturn(this, result);\n    };\n  }\n\n  function _superPropBase(object, property) {\n    while (!Object.prototype.hasOwnProperty.call(object, property)) {\n      object = _getPrototypeOf(object);\n      if (object === null) break;\n    }\n\n    return object;\n  }\n\n  function _get(target, property, receiver) {\n    if (typeof Reflect !== \"undefined\" && Reflect.get) {\n      _get = Reflect.get;\n    } else {\n      _get = function _get(target, property, receiver) {\n        var base = _superPropBase(target, property);\n\n        if (!base) return;\n        var desc = Object.getOwnPropertyDescriptor(base, property);\n\n        if (desc.get) {\n          return desc.get.call(receiver);\n        }\n\n        return desc.value;\n      };\n    }\n\n    return _get(target, property, receiver || target);\n  }\n\n  function _unsupportedIterableToArray(o, minLen) {\n    if (!o) return;\n    if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n    var n = Object.prototype.toString.call(o).slice(8, -1);\n    if (n === \"Object\" && o.constructor) n = o.constructor.name;\n    if (n === \"Map\" || n === \"Set\") return Array.from(o);\n    if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n  }\n\n  function _arrayLikeToArray(arr, len) {\n    if (len == null || len > arr.length) len = arr.length;\n\n    for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n\n    return arr2;\n  }\n\n  function _createForOfIteratorHelper(o, allowArrayLike) {\n    var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"];\n\n    if (!it) {\n      if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") {\n        if (it) o = it;\n        var i = 0;\n\n        var F = function () {};\n\n        return {\n          s: F,\n          n: function () {\n            if (i >= o.length) return {\n              done: true\n            };\n            return {\n              done: false,\n              value: o[i++]\n            };\n          },\n          e: function (e) {\n            throw e;\n          },\n          f: F\n        };\n      }\n\n      throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n    }\n\n    var normalCompletion = true,\n        didErr = false,\n        err;\n    return {\n      s: function () {\n        it = it.call(o);\n      },\n      n: function () {\n        var step = it.next();\n        normalCompletion = step.done;\n        return step;\n      },\n      e: function (e) {\n        didErr = true;\n        err = e;\n      },\n      f: function () {\n        try {\n          if (!normalCompletion && it.return != null) it.return();\n        } finally {\n          if (didErr) throw err;\n        }\n      }\n    };\n  }\n\n  /**\n   * Parses an URI\n   *\n   * @author Steven Levithan <stevenlevithan.com> (MIT license)\n   * @api private\n   */\n  var re = /^(?:(?![^:@]+:[^:@\\/]*@)(http|https|ws|wss):\\/\\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\\/?#]*)(?::(\\d*))?)(((\\/(?:[^?#](?![^?#\\/]*\\.[^?#\\/.]+(?:[?#]|$)))*\\/?)?([^?#\\/]*))(?:\\?([^#]*))?(?:#(.*))?)/;\n  var parts = ['source', 'protocol', 'authority', 'userInfo', 'user', 'password', 'host', 'port', 'relative', 'path', 'directory', 'file', 'query', 'anchor'];\n\n  var parseuri = function parseuri(str) {\n    var src = str,\n        b = str.indexOf('['),\n        e = str.indexOf(']');\n\n    if (b != -1 && e != -1) {\n      str = str.substring(0, b) + str.substring(b, e).replace(/:/g, ';') + str.substring(e, str.length);\n    }\n\n    var m = re.exec(str || ''),\n        uri = {},\n        i = 14;\n\n    while (i--) {\n      uri[parts[i]] = m[i] || '';\n    }\n\n    if (b != -1 && e != -1) {\n      uri.source = src;\n      uri.host = uri.host.substring(1, uri.host.length - 1).replace(/;/g, ':');\n      uri.authority = uri.authority.replace('[', '').replace(']', '').replace(/;/g, ':');\n      uri.ipv6uri = true;\n    }\n\n    uri.pathNames = pathNames(uri, uri['path']);\n    uri.queryKey = queryKey(uri, uri['query']);\n    return uri;\n  };\n\n  function pathNames(obj, path) {\n    var regx = /\\/{2,9}/g,\n        names = path.replace(regx, \"/\").split(\"/\");\n\n    if (path.substr(0, 1) == '/' || path.length === 0) {\n      names.splice(0, 1);\n    }\n\n    if (path.substr(path.length - 1, 1) == '/') {\n      names.splice(names.length - 1, 1);\n    }\n\n    return names;\n  }\n\n  function queryKey(uri, query) {\n    var data = {};\n    query.replace(/(?:^|&)([^&=]*)=?([^&]*)/g, function ($0, $1, $2) {\n      if ($1) {\n        data[$1] = $2;\n      }\n    });\n    return data;\n  }\n\n  /**\n   * URL parser.\n   *\n   * @param uri - url\n   * @param path - the request path of the connection\n   * @param loc - An object meant to mimic window.location.\n   *        Defaults to window.location.\n   * @public\n   */\n\n  function url(uri) {\n    var path = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"\";\n    var loc = arguments.length > 2 ? arguments[2] : undefined;\n    var obj = uri; // default to window.location\n\n    loc = loc || typeof location !== \"undefined\" && location;\n    if (null == uri) uri = loc.protocol + \"//\" + loc.host; // relative path support\n\n    if (typeof uri === \"string\") {\n      if (\"/\" === uri.charAt(0)) {\n        if (\"/\" === uri.charAt(1)) {\n          uri = loc.protocol + uri;\n        } else {\n          uri = loc.host + uri;\n        }\n      }\n\n      if (!/^(https?|wss?):\\/\\//.test(uri)) {\n        if (\"undefined\" !== typeof loc) {\n          uri = loc.protocol + \"//\" + uri;\n        } else {\n          uri = \"https://\" + uri;\n        }\n      } // parse\n\n\n      obj = parseuri(uri);\n    } // make sure we treat `localhost:80` and `localhost` equally\n\n\n    if (!obj.port) {\n      if (/^(http|ws)$/.test(obj.protocol)) {\n        obj.port = \"80\";\n      } else if (/^(http|ws)s$/.test(obj.protocol)) {\n        obj.port = \"443\";\n      }\n    }\n\n    obj.path = obj.path || \"/\";\n    var ipv6 = obj.host.indexOf(\":\") !== -1;\n    var host = ipv6 ? \"[\" + obj.host + \"]\" : obj.host; // define unique id\n\n    obj.id = obj.protocol + \"://\" + host + \":\" + obj.port + path; // define href\n\n    obj.href = obj.protocol + \"://\" + host + (loc && loc.port === obj.port ? \"\" : \":\" + obj.port);\n    return obj;\n  }\n\n  var hasCors = {exports: {}};\n\n  /**\n   * Module exports.\n   *\n   * Logic borrowed from Modernizr:\n   *\n   *   - https://github.com/Modernizr/Modernizr/blob/master/feature-detects/cors.js\n   */\n\n  try {\n    hasCors.exports = typeof XMLHttpRequest !== 'undefined' && 'withCredentials' in new XMLHttpRequest();\n  } catch (err) {\n    // if XMLHttp support is disabled in IE then it will throw\n    // when trying to create\n    hasCors.exports = false;\n  }\n\n  var hasCORS = hasCors.exports;\n\n  var globalThis = (function () {\n    if (typeof self !== \"undefined\") {\n      return self;\n    } else if (typeof window !== \"undefined\") {\n      return window;\n    } else {\n      return Function(\"return this\")();\n    }\n  })();\n\n  // browser shim for xmlhttprequest module\n  function XMLHttpRequest$1 (opts) {\n    var xdomain = opts.xdomain; // XMLHttpRequest can be disabled on IE\n\n    try {\n      if (\"undefined\" !== typeof XMLHttpRequest && (!xdomain || hasCORS)) {\n        return new XMLHttpRequest();\n      }\n    } catch (e) {}\n\n    if (!xdomain) {\n      try {\n        return new globalThis[[\"Active\"].concat(\"Object\").join(\"X\")](\"Microsoft.XMLHTTP\");\n      } catch (e) {}\n    }\n  }\n\n  function pick(obj) {\n    for (var _len = arguments.length, attr = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      attr[_key - 1] = arguments[_key];\n    }\n\n    return attr.reduce(function (acc, k) {\n      if (obj.hasOwnProperty(k)) {\n        acc[k] = obj[k];\n      }\n\n      return acc;\n    }, {});\n  } // Keep a reference to the real timeout functions so they can be used when overridden\n\n  var NATIVE_SET_TIMEOUT = setTimeout;\n  var NATIVE_CLEAR_TIMEOUT = clearTimeout;\n  function installTimerFunctions(obj, opts) {\n    if (opts.useNativeTimers) {\n      obj.setTimeoutFn = NATIVE_SET_TIMEOUT.bind(globalThis);\n      obj.clearTimeoutFn = NATIVE_CLEAR_TIMEOUT.bind(globalThis);\n    } else {\n      obj.setTimeoutFn = setTimeout.bind(globalThis);\n      obj.clearTimeoutFn = clearTimeout.bind(globalThis);\n    }\n  }\n\n  /**\n   * Expose `Emitter`.\n   */\n\n  var Emitter_1 = Emitter;\n  /**\n   * Initialize a new `Emitter`.\n   *\n   * @api public\n   */\n\n  function Emitter(obj) {\n    if (obj) return mixin(obj);\n  }\n  /**\n   * Mixin the emitter properties.\n   *\n   * @param {Object} obj\n   * @return {Object}\n   * @api private\n   */\n\n\n  function mixin(obj) {\n    for (var key in Emitter.prototype) {\n      obj[key] = Emitter.prototype[key];\n    }\n\n    return obj;\n  }\n  /**\n   * Listen on the given `event` with `fn`.\n   *\n   * @param {String} event\n   * @param {Function} fn\n   * @return {Emitter}\n   * @api public\n   */\n\n\n  Emitter.prototype.on = Emitter.prototype.addEventListener = function (event, fn) {\n    this._callbacks = this._callbacks || {};\n    (this._callbacks['$' + event] = this._callbacks['$' + event] || []).push(fn);\n    return this;\n  };\n  /**\n   * Adds an `event` listener that will be invoked a single\n   * time then automatically removed.\n   *\n   * @param {String} event\n   * @param {Function} fn\n   * @return {Emitter}\n   * @api public\n   */\n\n\n  Emitter.prototype.once = function (event, fn) {\n    function on() {\n      this.off(event, on);\n      fn.apply(this, arguments);\n    }\n\n    on.fn = fn;\n    this.on(event, on);\n    return this;\n  };\n  /**\n   * Remove the given callback for `event` or all\n   * registered callbacks.\n   *\n   * @param {String} event\n   * @param {Function} fn\n   * @return {Emitter}\n   * @api public\n   */\n\n\n  Emitter.prototype.off = Emitter.prototype.removeListener = Emitter.prototype.removeAllListeners = Emitter.prototype.removeEventListener = function (event, fn) {\n    this._callbacks = this._callbacks || {}; // all\n\n    if (0 == arguments.length) {\n      this._callbacks = {};\n      return this;\n    } // specific event\n\n\n    var callbacks = this._callbacks['$' + event];\n    if (!callbacks) return this; // remove all handlers\n\n    if (1 == arguments.length) {\n      delete this._callbacks['$' + event];\n      return this;\n    } // remove specific handler\n\n\n    var cb;\n\n    for (var i = 0; i < callbacks.length; i++) {\n      cb = callbacks[i];\n\n      if (cb === fn || cb.fn === fn) {\n        callbacks.splice(i, 1);\n        break;\n      }\n    } // Remove event specific arrays for event types that no\n    // one is subscribed for to avoid memory leak.\n\n\n    if (callbacks.length === 0) {\n      delete this._callbacks['$' + event];\n    }\n\n    return this;\n  };\n  /**\n   * Emit `event` with the given args.\n   *\n   * @param {String} event\n   * @param {Mixed} ...\n   * @return {Emitter}\n   */\n\n\n  Emitter.prototype.emit = function (event) {\n    this._callbacks = this._callbacks || {};\n    var args = new Array(arguments.length - 1),\n        callbacks = this._callbacks['$' + event];\n\n    for (var i = 1; i < arguments.length; i++) {\n      args[i - 1] = arguments[i];\n    }\n\n    if (callbacks) {\n      callbacks = callbacks.slice(0);\n\n      for (var i = 0, len = callbacks.length; i < len; ++i) {\n        callbacks[i].apply(this, args);\n      }\n    }\n\n    return this;\n  }; // alias used for reserved events (protected method)\n\n\n  Emitter.prototype.emitReserved = Emitter.prototype.emit;\n  /**\n   * Return array of callbacks for `event`.\n   *\n   * @param {String} event\n   * @return {Array}\n   * @api public\n   */\n\n  Emitter.prototype.listeners = function (event) {\n    this._callbacks = this._callbacks || {};\n    return this._callbacks['$' + event] || [];\n  };\n  /**\n   * Check if this emitter has `event` handlers.\n   *\n   * @param {String} event\n   * @return {Boolean}\n   * @api public\n   */\n\n\n  Emitter.prototype.hasListeners = function (event) {\n    return !!this.listeners(event).length;\n  };\n\n  var PACKET_TYPES = Object.create(null); // no Map = no polyfill\n\n  PACKET_TYPES[\"open\"] = \"0\";\n  PACKET_TYPES[\"close\"] = \"1\";\n  PACKET_TYPES[\"ping\"] = \"2\";\n  PACKET_TYPES[\"pong\"] = \"3\";\n  PACKET_TYPES[\"message\"] = \"4\";\n  PACKET_TYPES[\"upgrade\"] = \"5\";\n  PACKET_TYPES[\"noop\"] = \"6\";\n  var PACKET_TYPES_REVERSE = Object.create(null);\n  Object.keys(PACKET_TYPES).forEach(function (key) {\n    PACKET_TYPES_REVERSE[PACKET_TYPES[key]] = key;\n  });\n  var ERROR_PACKET = {\n    type: \"error\",\n    data: \"parser error\"\n  };\n\n  var withNativeBlob$1 = typeof Blob === \"function\" || typeof Blob !== \"undefined\" && Object.prototype.toString.call(Blob) === \"[object BlobConstructor]\";\n  var withNativeArrayBuffer$2 = typeof ArrayBuffer === \"function\"; // ArrayBuffer.isView method is not defined in IE10\n\n  var isView$1 = function isView(obj) {\n    return typeof ArrayBuffer.isView === \"function\" ? ArrayBuffer.isView(obj) : obj && obj.buffer instanceof ArrayBuffer;\n  };\n\n  var encodePacket = function encodePacket(_ref, supportsBinary, callback) {\n    var type = _ref.type,\n        data = _ref.data;\n\n    if (withNativeBlob$1 && data instanceof Blob) {\n      if (supportsBinary) {\n        return callback(data);\n      } else {\n        return encodeBlobAsBase64(data, callback);\n      }\n    } else if (withNativeArrayBuffer$2 && (data instanceof ArrayBuffer || isView$1(data))) {\n      if (supportsBinary) {\n        return callback(data);\n      } else {\n        return encodeBlobAsBase64(new Blob([data]), callback);\n      }\n    } // plain string\n\n\n    return callback(PACKET_TYPES[type] + (data || \"\"));\n  };\n\n  var encodeBlobAsBase64 = function encodeBlobAsBase64(data, callback) {\n    var fileReader = new FileReader();\n\n    fileReader.onload = function () {\n      var content = fileReader.result.split(\",\")[1];\n      callback(\"b\" + content);\n    };\n\n    return fileReader.readAsDataURL(data);\n  };\n\n  /*\n   * base64-arraybuffer 1.0.1 <https://github.com/niklasvh/base64-arraybuffer>\n   * Copyright (c) 2021 Niklas von Hertzen <https://hertzen.com>\n   * Released under MIT License\n   */\n  var chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'; // Use a lookup table to find the index.\n\n  var lookup$1 = typeof Uint8Array === 'undefined' ? [] : new Uint8Array(256);\n\n  for (var i$1 = 0; i$1 < chars.length; i$1++) {\n    lookup$1[chars.charCodeAt(i$1)] = i$1;\n  }\n\n  var decode$1 = function decode(base64) {\n    var bufferLength = base64.length * 0.75,\n        len = base64.length,\n        i,\n        p = 0,\n        encoded1,\n        encoded2,\n        encoded3,\n        encoded4;\n\n    if (base64[base64.length - 1] === '=') {\n      bufferLength--;\n\n      if (base64[base64.length - 2] === '=') {\n        bufferLength--;\n      }\n    }\n\n    var arraybuffer = new ArrayBuffer(bufferLength),\n        bytes = new Uint8Array(arraybuffer);\n\n    for (i = 0; i < len; i += 4) {\n      encoded1 = lookup$1[base64.charCodeAt(i)];\n      encoded2 = lookup$1[base64.charCodeAt(i + 1)];\n      encoded3 = lookup$1[base64.charCodeAt(i + 2)];\n      encoded4 = lookup$1[base64.charCodeAt(i + 3)];\n      bytes[p++] = encoded1 << 2 | encoded2 >> 4;\n      bytes[p++] = (encoded2 & 15) << 4 | encoded3 >> 2;\n      bytes[p++] = (encoded3 & 3) << 6 | encoded4 & 63;\n    }\n\n    return arraybuffer;\n  };\n\n  var withNativeArrayBuffer$1 = typeof ArrayBuffer === \"function\";\n\n  var decodePacket = function decodePacket(encodedPacket, binaryType) {\n    if (typeof encodedPacket !== \"string\") {\n      return {\n        type: \"message\",\n        data: mapBinary(encodedPacket, binaryType)\n      };\n    }\n\n    var type = encodedPacket.charAt(0);\n\n    if (type === \"b\") {\n      return {\n        type: \"message\",\n        data: decodeBase64Packet(encodedPacket.substring(1), binaryType)\n      };\n    }\n\n    var packetType = PACKET_TYPES_REVERSE[type];\n\n    if (!packetType) {\n      return ERROR_PACKET;\n    }\n\n    return encodedPacket.length > 1 ? {\n      type: PACKET_TYPES_REVERSE[type],\n      data: encodedPacket.substring(1)\n    } : {\n      type: PACKET_TYPES_REVERSE[type]\n    };\n  };\n\n  var decodeBase64Packet = function decodeBase64Packet(data, binaryType) {\n    if (withNativeArrayBuffer$1) {\n      var decoded = decode$1(data);\n      return mapBinary(decoded, binaryType);\n    } else {\n      return {\n        base64: true,\n        data: data\n      }; // fallback for old browsers\n    }\n  };\n\n  var mapBinary = function mapBinary(data, binaryType) {\n    switch (binaryType) {\n      case \"blob\":\n        return data instanceof ArrayBuffer ? new Blob([data]) : data;\n\n      case \"arraybuffer\":\n      default:\n        return data;\n      // assuming the data is already an ArrayBuffer\n    }\n  };\n\n  var SEPARATOR = String.fromCharCode(30); // see https://en.wikipedia.org/wiki/Delimiter#ASCII_delimited_text\n\n  var encodePayload = function encodePayload(packets, callback) {\n    // some packets may be added to the array while encoding, so the initial length must be saved\n    var length = packets.length;\n    var encodedPackets = new Array(length);\n    var count = 0;\n    packets.forEach(function (packet, i) {\n      // force base64 encoding for binary packets\n      encodePacket(packet, false, function (encodedPacket) {\n        encodedPackets[i] = encodedPacket;\n\n        if (++count === length) {\n          callback(encodedPackets.join(SEPARATOR));\n        }\n      });\n    });\n  };\n\n  var decodePayload = function decodePayload(encodedPayload, binaryType) {\n    var encodedPackets = encodedPayload.split(SEPARATOR);\n    var packets = [];\n\n    for (var i = 0; i < encodedPackets.length; i++) {\n      var decodedPacket = decodePacket(encodedPackets[i], binaryType);\n      packets.push(decodedPacket);\n\n      if (decodedPacket.type === \"error\") {\n        break;\n      }\n    }\n\n    return packets;\n  };\n\n  var protocol$1 = 4;\n\n  var Transport = /*#__PURE__*/function (_Emitter) {\n    _inherits(Transport, _Emitter);\n\n    var _super = _createSuper(Transport);\n\n    /**\n     * Transport abstract constructor.\n     *\n     * @param {Object} options.\n     * @api private\n     */\n    function Transport(opts) {\n      var _this;\n\n      _classCallCheck(this, Transport);\n\n      _this = _super.call(this);\n      _this.writable = false;\n      installTimerFunctions(_assertThisInitialized(_this), opts);\n      _this.opts = opts;\n      _this.query = opts.query;\n      _this.readyState = \"\";\n      _this.socket = opts.socket;\n      return _this;\n    }\n    /**\n     * Emits an error.\n     *\n     * @param {String} str\n     * @return {Transport} for chaining\n     * @api protected\n     */\n\n\n    _createClass(Transport, [{\n      key: \"onError\",\n      value: function onError(msg, desc) {\n        var err = new Error(msg); // @ts-ignore\n\n        err.type = \"TransportError\"; // @ts-ignore\n\n        err.description = desc;\n\n        _get(_getPrototypeOf(Transport.prototype), \"emit\", this).call(this, \"error\", err);\n\n        return this;\n      }\n      /**\n       * Opens the transport.\n       *\n       * @api public\n       */\n\n    }, {\n      key: \"open\",\n      value: function open() {\n        if (\"closed\" === this.readyState || \"\" === this.readyState) {\n          this.readyState = \"opening\";\n          this.doOpen();\n        }\n\n        return this;\n      }\n      /**\n       * Closes the transport.\n       *\n       * @api public\n       */\n\n    }, {\n      key: \"close\",\n      value: function close() {\n        if (\"opening\" === this.readyState || \"open\" === this.readyState) {\n          this.doClose();\n          this.onClose();\n        }\n\n        return this;\n      }\n      /**\n       * Sends multiple packets.\n       *\n       * @param {Array} packets\n       * @api public\n       */\n\n    }, {\n      key: \"send\",\n      value: function send(packets) {\n        if (\"open\" === this.readyState) {\n          this.write(packets);\n        }\n      }\n      /**\n       * Called upon open\n       *\n       * @api protected\n       */\n\n    }, {\n      key: \"onOpen\",\n      value: function onOpen() {\n        this.readyState = \"open\";\n        this.writable = true;\n\n        _get(_getPrototypeOf(Transport.prototype), \"emit\", this).call(this, \"open\");\n      }\n      /**\n       * Called with data.\n       *\n       * @param {String} data\n       * @api protected\n       */\n\n    }, {\n      key: \"onData\",\n      value: function onData(data) {\n        var packet = decodePacket(data, this.socket.binaryType);\n        this.onPacket(packet);\n      }\n      /**\n       * Called with a decoded packet.\n       *\n       * @api protected\n       */\n\n    }, {\n      key: \"onPacket\",\n      value: function onPacket(packet) {\n        _get(_getPrototypeOf(Transport.prototype), \"emit\", this).call(this, \"packet\", packet);\n      }\n      /**\n       * Called upon close.\n       *\n       * @api protected\n       */\n\n    }, {\n      key: \"onClose\",\n      value: function onClose() {\n        this.readyState = \"closed\";\n\n        _get(_getPrototypeOf(Transport.prototype), \"emit\", this).call(this, \"close\");\n      }\n    }]);\n\n    return Transport;\n  }(Emitter_1);\n\n  var alphabet = '0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_'.split(''),\n      length = 64,\n      map = {},\n      seed = 0,\n      i = 0,\n      prev;\n  /**\n   * Return a string representing the specified number.\n   *\n   * @param {Number} num The number to convert.\n   * @returns {String} The string representation of the number.\n   * @api public\n   */\n\n  function encode(num) {\n    var encoded = '';\n\n    do {\n      encoded = alphabet[num % length] + encoded;\n      num = Math.floor(num / length);\n    } while (num > 0);\n\n    return encoded;\n  }\n  /**\n   * Return the integer value specified by the given string.\n   *\n   * @param {String} str The string to convert.\n   * @returns {Number} The integer value represented by the string.\n   * @api public\n   */\n\n\n  function decode(str) {\n    var decoded = 0;\n\n    for (i = 0; i < str.length; i++) {\n      decoded = decoded * length + map[str.charAt(i)];\n    }\n\n    return decoded;\n  }\n  /**\n   * Yeast: A tiny growing id generator.\n   *\n   * @returns {String} A unique id.\n   * @api public\n   */\n\n\n  function yeast() {\n    var now = encode(+new Date());\n    if (now !== prev) return seed = 0, prev = now;\n    return now + '.' + encode(seed++);\n  } //\n  // Map each character to its index.\n  //\n\n\n  for (; i < length; i++) {\n    map[alphabet[i]] = i;\n  } //\n  // Expose the `yeast`, `encode` and `decode` functions.\n  //\n\n\n  yeast.encode = encode;\n  yeast.decode = decode;\n  var yeast_1 = yeast;\n\n  var parseqs = {};\n\n  /**\n   * Compiles a querystring\n   * Returns string representation of the object\n   *\n   * @param {Object}\n   * @api private\n   */\n\n  parseqs.encode = function (obj) {\n    var str = '';\n\n    for (var i in obj) {\n      if (obj.hasOwnProperty(i)) {\n        if (str.length) str += '&';\n        str += encodeURIComponent(i) + '=' + encodeURIComponent(obj[i]);\n      }\n    }\n\n    return str;\n  };\n  /**\n   * Parses a simple querystring into an object\n   *\n   * @param {String} qs\n   * @api private\n   */\n\n\n  parseqs.decode = function (qs) {\n    var qry = {};\n    var pairs = qs.split('&');\n\n    for (var i = 0, l = pairs.length; i < l; i++) {\n      var pair = pairs[i].split('=');\n      qry[decodeURIComponent(pair[0])] = decodeURIComponent(pair[1]);\n    }\n\n    return qry;\n  };\n\n  var Polling = /*#__PURE__*/function (_Transport) {\n    _inherits(Polling, _Transport);\n\n    var _super = _createSuper(Polling);\n\n    function Polling() {\n      var _this;\n\n      _classCallCheck(this, Polling);\n\n      _this = _super.apply(this, arguments);\n      _this.polling = false;\n      return _this;\n    }\n    /**\n     * Transport name.\n     */\n\n\n    _createClass(Polling, [{\n      key: \"name\",\n      get: function get() {\n        return \"polling\";\n      }\n      /**\n       * Opens the socket (triggers polling). We write a PING message to determine\n       * when the transport is open.\n       *\n       * @api private\n       */\n\n    }, {\n      key: \"doOpen\",\n      value: function doOpen() {\n        this.poll();\n      }\n      /**\n       * Pauses polling.\n       *\n       * @param {Function} callback upon buffers are flushed and transport is paused\n       * @api private\n       */\n\n    }, {\n      key: \"pause\",\n      value: function pause(onPause) {\n        var _this2 = this;\n\n        this.readyState = \"pausing\";\n\n        var pause = function pause() {\n          _this2.readyState = \"paused\";\n          onPause();\n        };\n\n        if (this.polling || !this.writable) {\n          var total = 0;\n\n          if (this.polling) {\n            total++;\n            this.once(\"pollComplete\", function () {\n              --total || pause();\n            });\n          }\n\n          if (!this.writable) {\n            total++;\n            this.once(\"drain\", function () {\n              --total || pause();\n            });\n          }\n        } else {\n          pause();\n        }\n      }\n      /**\n       * Starts polling cycle.\n       *\n       * @api public\n       */\n\n    }, {\n      key: \"poll\",\n      value: function poll() {\n        this.polling = true;\n        this.doPoll();\n        this.emit(\"poll\");\n      }\n      /**\n       * Overloads onData to detect payloads.\n       *\n       * @api private\n       */\n\n    }, {\n      key: \"onData\",\n      value: function onData(data) {\n        var _this3 = this;\n\n        var callback = function callback(packet) {\n          // if its the first message we consider the transport open\n          if (\"opening\" === _this3.readyState && packet.type === \"open\") {\n            _this3.onOpen();\n          } // if its a close packet, we close the ongoing requests\n\n\n          if (\"close\" === packet.type) {\n            _this3.onClose();\n\n            return false;\n          } // otherwise bypass onData and handle the message\n\n\n          _this3.onPacket(packet);\n        }; // decode payload\n\n\n        decodePayload(data, this.socket.binaryType).forEach(callback); // if an event did not trigger closing\n\n        if (\"closed\" !== this.readyState) {\n          // if we got data we're not polling\n          this.polling = false;\n          this.emit(\"pollComplete\");\n\n          if (\"open\" === this.readyState) {\n            this.poll();\n          }\n        }\n      }\n      /**\n       * For polling, send a close packet.\n       *\n       * @api private\n       */\n\n    }, {\n      key: \"doClose\",\n      value: function doClose() {\n        var _this4 = this;\n\n        var close = function close() {\n          _this4.write([{\n            type: \"close\"\n          }]);\n        };\n\n        if (\"open\" === this.readyState) {\n          close();\n        } else {\n          // in case we're trying to close while\n          // handshaking is in progress (GH-164)\n          this.once(\"open\", close);\n        }\n      }\n      /**\n       * Writes a packets payload.\n       *\n       * @param {Array} data packets\n       * @param {Function} drain callback\n       * @api private\n       */\n\n    }, {\n      key: \"write\",\n      value: function write(packets) {\n        var _this5 = this;\n\n        this.writable = false;\n        encodePayload(packets, function (data) {\n          _this5.doWrite(data, function () {\n            _this5.writable = true;\n\n            _this5.emit(\"drain\");\n          });\n        });\n      }\n      /**\n       * Generates uri for connection.\n       *\n       * @api private\n       */\n\n    }, {\n      key: \"uri\",\n      value: function uri() {\n        var query = this.query || {};\n        var schema = this.opts.secure ? \"https\" : \"http\";\n        var port = \"\"; // cache busting is forced\n\n        if (false !== this.opts.timestampRequests) {\n          query[this.opts.timestampParam] = yeast_1();\n        }\n\n        if (!this.supportsBinary && !query.sid) {\n          query.b64 = 1;\n        } // avoid port if default for schema\n\n\n        if (this.opts.port && (\"https\" === schema && Number(this.opts.port) !== 443 || \"http\" === schema && Number(this.opts.port) !== 80)) {\n          port = \":\" + this.opts.port;\n        }\n\n        var encodedQuery = parseqs.encode(query);\n        var ipv6 = this.opts.hostname.indexOf(\":\") !== -1;\n        return schema + \"://\" + (ipv6 ? \"[\" + this.opts.hostname + \"]\" : this.opts.hostname) + port + this.opts.path + (encodedQuery.length ? \"?\" + encodedQuery : \"\");\n      }\n    }]);\n\n    return Polling;\n  }(Transport);\n\n  /**\n   * Empty function\n   */\n\n  function empty() {}\n\n  var hasXHR2 = function () {\n    var xhr = new XMLHttpRequest$1({\n      xdomain: false\n    });\n    return null != xhr.responseType;\n  }();\n\n  var XHR = /*#__PURE__*/function (_Polling) {\n    _inherits(XHR, _Polling);\n\n    var _super = _createSuper(XHR);\n\n    /**\n     * XHR Polling constructor.\n     *\n     * @param {Object} opts\n     * @api public\n     */\n    function XHR(opts) {\n      var _this;\n\n      _classCallCheck(this, XHR);\n\n      _this = _super.call(this, opts);\n\n      if (typeof location !== \"undefined\") {\n        var isSSL = \"https:\" === location.protocol;\n        var port = location.port; // some user agents have empty `location.port`\n\n        if (!port) {\n          port = isSSL ? \"443\" : \"80\";\n        }\n\n        _this.xd = typeof location !== \"undefined\" && opts.hostname !== location.hostname || port !== opts.port;\n        _this.xs = opts.secure !== isSSL;\n      }\n      /**\n       * XHR supports binary\n       */\n\n\n      var forceBase64 = opts && opts.forceBase64;\n      _this.supportsBinary = hasXHR2 && !forceBase64;\n      return _this;\n    }\n    /**\n     * Creates a request.\n     *\n     * @param {String} method\n     * @api private\n     */\n\n\n    _createClass(XHR, [{\n      key: \"request\",\n      value: function request() {\n        var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n        _extends(opts, {\n          xd: this.xd,\n          xs: this.xs\n        }, this.opts);\n\n        return new Request(this.uri(), opts);\n      }\n      /**\n       * Sends data.\n       *\n       * @param {String} data to send.\n       * @param {Function} called upon flush.\n       * @api private\n       */\n\n    }, {\n      key: \"doWrite\",\n      value: function doWrite(data, fn) {\n        var _this2 = this;\n\n        var req = this.request({\n          method: \"POST\",\n          data: data\n        });\n        req.on(\"success\", fn);\n        req.on(\"error\", function (err) {\n          _this2.onError(\"xhr post error\", err);\n        });\n      }\n      /**\n       * Starts a poll cycle.\n       *\n       * @api private\n       */\n\n    }, {\n      key: \"doPoll\",\n      value: function doPoll() {\n        var _this3 = this;\n\n        var req = this.request();\n        req.on(\"data\", this.onData.bind(this));\n        req.on(\"error\", function (err) {\n          _this3.onError(\"xhr poll error\", err);\n        });\n        this.pollXhr = req;\n      }\n    }]);\n\n    return XHR;\n  }(Polling);\n  var Request = /*#__PURE__*/function (_Emitter) {\n    _inherits(Request, _Emitter);\n\n    var _super2 = _createSuper(Request);\n\n    /**\n     * Request constructor\n     *\n     * @param {Object} options\n     * @api public\n     */\n    function Request(uri, opts) {\n      var _this4;\n\n      _classCallCheck(this, Request);\n\n      _this4 = _super2.call(this);\n      installTimerFunctions(_assertThisInitialized(_this4), opts);\n      _this4.opts = opts;\n      _this4.method = opts.method || \"GET\";\n      _this4.uri = uri;\n      _this4.async = false !== opts.async;\n      _this4.data = undefined !== opts.data ? opts.data : null;\n\n      _this4.create();\n\n      return _this4;\n    }\n    /**\n     * Creates the XHR object and sends the request.\n     *\n     * @api private\n     */\n\n\n    _createClass(Request, [{\n      key: \"create\",\n      value: function create() {\n        var _this5 = this;\n\n        var opts = pick(this.opts, \"agent\", \"pfx\", \"key\", \"passphrase\", \"cert\", \"ca\", \"ciphers\", \"rejectUnauthorized\", \"autoUnref\");\n        opts.xdomain = !!this.opts.xd;\n        opts.xscheme = !!this.opts.xs;\n        var xhr = this.xhr = new XMLHttpRequest$1(opts);\n\n        try {\n          xhr.open(this.method, this.uri, this.async);\n\n          try {\n            if (this.opts.extraHeaders) {\n              xhr.setDisableHeaderCheck && xhr.setDisableHeaderCheck(true);\n\n              for (var i in this.opts.extraHeaders) {\n                if (this.opts.extraHeaders.hasOwnProperty(i)) {\n                  xhr.setRequestHeader(i, this.opts.extraHeaders[i]);\n                }\n              }\n            }\n          } catch (e) {}\n\n          if (\"POST\" === this.method) {\n            try {\n              xhr.setRequestHeader(\"Content-type\", \"text/plain;charset=UTF-8\");\n            } catch (e) {}\n          }\n\n          try {\n            xhr.setRequestHeader(\"Accept\", \"*/*\");\n          } catch (e) {} // ie6 check\n\n\n          if (\"withCredentials\" in xhr) {\n            xhr.withCredentials = this.opts.withCredentials;\n          }\n\n          if (this.opts.requestTimeout) {\n            xhr.timeout = this.opts.requestTimeout;\n          }\n\n          xhr.onreadystatechange = function () {\n            if (4 !== xhr.readyState) return;\n\n            if (200 === xhr.status || 1223 === xhr.status) {\n              _this5.onLoad();\n            } else {\n              // make sure the `error` event handler that's user-set\n              // does not throw in the same tick and gets caught here\n              _this5.setTimeoutFn(function () {\n                _this5.onError(typeof xhr.status === \"number\" ? xhr.status : 0);\n              }, 0);\n            }\n          };\n\n          xhr.send(this.data);\n        } catch (e) {\n          // Need to defer since .create() is called directly from the constructor\n          // and thus the 'error' event can only be only bound *after* this exception\n          // occurs.  Therefore, also, we cannot throw here at all.\n          this.setTimeoutFn(function () {\n            _this5.onError(e);\n          }, 0);\n          return;\n        }\n\n        if (typeof document !== \"undefined\") {\n          this.index = Request.requestsCount++;\n          Request.requests[this.index] = this;\n        }\n      }\n      /**\n       * Called upon successful response.\n       *\n       * @api private\n       */\n\n    }, {\n      key: \"onSuccess\",\n      value: function onSuccess() {\n        this.emit(\"success\");\n        this.cleanup();\n      }\n      /**\n       * Called if we have data.\n       *\n       * @api private\n       */\n\n    }, {\n      key: \"onData\",\n      value: function onData(data) {\n        this.emit(\"data\", data);\n        this.onSuccess();\n      }\n      /**\n       * Called upon error.\n       *\n       * @api private\n       */\n\n    }, {\n      key: \"onError\",\n      value: function onError(err) {\n        this.emit(\"error\", err);\n        this.cleanup(true);\n      }\n      /**\n       * Cleans up house.\n       *\n       * @api private\n       */\n\n    }, {\n      key: \"cleanup\",\n      value: function cleanup(fromError) {\n        if (\"undefined\" === typeof this.xhr || null === this.xhr) {\n          return;\n        }\n\n        this.xhr.onreadystatechange = empty;\n\n        if (fromError) {\n          try {\n            this.xhr.abort();\n          } catch (e) {}\n        }\n\n        if (typeof document !== \"undefined\") {\n          delete Request.requests[this.index];\n        }\n\n        this.xhr = null;\n      }\n      /**\n       * Called upon load.\n       *\n       * @api private\n       */\n\n    }, {\n      key: \"onLoad\",\n      value: function onLoad() {\n        var data = this.xhr.responseText;\n\n        if (data !== null) {\n          this.onData(data);\n        }\n      }\n      /**\n       * Aborts the request.\n       *\n       * @api public\n       */\n\n    }, {\n      key: \"abort\",\n      value: function abort() {\n        this.cleanup();\n      }\n    }]);\n\n    return Request;\n  }(Emitter_1);\n  Request.requestsCount = 0;\n  Request.requests = {};\n  /**\n   * Aborts pending requests when unloading the window. This is needed to prevent\n   * memory leaks (e.g. when using IE) and to ensure that no spurious error is\n   * emitted.\n   */\n\n  if (typeof document !== \"undefined\") {\n    // @ts-ignore\n    if (typeof attachEvent === \"function\") {\n      // @ts-ignore\n      attachEvent(\"onunload\", unloadHandler);\n    } else if (typeof addEventListener === \"function\") {\n      var terminationEvent = \"onpagehide\" in globalThis ? \"pagehide\" : \"unload\";\n      addEventListener(terminationEvent, unloadHandler, false);\n    }\n  }\n\n  function unloadHandler() {\n    for (var i in Request.requests) {\n      if (Request.requests.hasOwnProperty(i)) {\n        Request.requests[i].abort();\n      }\n    }\n  }\n\n  var nextTick = function () {\n    var isPromiseAvailable = typeof Promise === \"function\" && typeof Promise.resolve === \"function\";\n\n    if (isPromiseAvailable) {\n      return function (cb) {\n        return Promise.resolve().then(cb);\n      };\n    } else {\n      return function (cb, setTimeoutFn) {\n        return setTimeoutFn(cb, 0);\n      };\n    }\n  }();\n  var WebSocket = globalThis.WebSocket || globalThis.MozWebSocket;\n  var usingBrowserWebSocket = true;\n  var defaultBinaryType = \"arraybuffer\";\n\n  var isReactNative = typeof navigator !== \"undefined\" && typeof navigator.product === \"string\" && navigator.product.toLowerCase() === \"reactnative\";\n  var WS = /*#__PURE__*/function (_Transport) {\n    _inherits(WS, _Transport);\n\n    var _super = _createSuper(WS);\n\n    /**\n     * WebSocket transport constructor.\n     *\n     * @api {Object} connection options\n     * @api public\n     */\n    function WS(opts) {\n      var _this;\n\n      _classCallCheck(this, WS);\n\n      _this = _super.call(this, opts);\n      _this.supportsBinary = !opts.forceBase64;\n      return _this;\n    }\n    /**\n     * Transport name.\n     *\n     * @api public\n     */\n\n\n    _createClass(WS, [{\n      key: \"name\",\n      get: function get() {\n        return \"websocket\";\n      }\n      /**\n       * Opens socket.\n       *\n       * @api private\n       */\n\n    }, {\n      key: \"doOpen\",\n      value: function doOpen() {\n        if (!this.check()) {\n          // let probe timeout\n          return;\n        }\n\n        var uri = this.uri();\n        var protocols = this.opts.protocols; // React Native only supports the 'headers' option, and will print a warning if anything else is passed\n\n        var opts = isReactNative ? {} : pick(this.opts, \"agent\", \"perMessageDeflate\", \"pfx\", \"key\", \"passphrase\", \"cert\", \"ca\", \"ciphers\", \"rejectUnauthorized\", \"localAddress\", \"protocolVersion\", \"origin\", \"maxPayload\", \"family\", \"checkServerIdentity\");\n\n        if (this.opts.extraHeaders) {\n          opts.headers = this.opts.extraHeaders;\n        }\n\n        try {\n          this.ws = usingBrowserWebSocket && !isReactNative ? protocols ? new WebSocket(uri, protocols) : new WebSocket(uri) : new WebSocket(uri, protocols, opts);\n        } catch (err) {\n          return this.emit(\"error\", err);\n        }\n\n        this.ws.binaryType = this.socket.binaryType || defaultBinaryType;\n        this.addEventListeners();\n      }\n      /**\n       * Adds event listeners to the socket\n       *\n       * @api private\n       */\n\n    }, {\n      key: \"addEventListeners\",\n      value: function addEventListeners() {\n        var _this2 = this;\n\n        this.ws.onopen = function () {\n          if (_this2.opts.autoUnref) {\n            _this2.ws._socket.unref();\n          }\n\n          _this2.onOpen();\n        };\n\n        this.ws.onclose = this.onClose.bind(this);\n\n        this.ws.onmessage = function (ev) {\n          return _this2.onData(ev.data);\n        };\n\n        this.ws.onerror = function (e) {\n          return _this2.onError(\"websocket error\", e);\n        };\n      }\n      /**\n       * Writes data to socket.\n       *\n       * @param {Array} array of packets.\n       * @api private\n       */\n\n    }, {\n      key: \"write\",\n      value: function write(packets) {\n        var _this3 = this;\n\n        this.writable = false; // encodePacket efficient as it uses WS framing\n        // no need for encodePayload\n\n        var _loop = function _loop(i) {\n          var packet = packets[i];\n          var lastPacket = i === packets.length - 1;\n          encodePacket(packet, _this3.supportsBinary, function (data) {\n            // always create a new object (GH-437)\n            var opts = {};\n            // have a chance of informing us about it yet, in that case send will\n            // throw an error\n\n\n            try {\n              if (usingBrowserWebSocket) {\n                // TypeError is thrown when passing the second argument on Safari\n                _this3.ws.send(data);\n              }\n            } catch (e) {}\n\n            if (lastPacket) {\n              // fake drain\n              // defer to next tick to allow Socket to clear writeBuffer\n              nextTick(function () {\n                _this3.writable = true;\n\n                _this3.emit(\"drain\");\n              }, _this3.setTimeoutFn);\n            }\n          });\n        };\n\n        for (var i = 0; i < packets.length; i++) {\n          _loop(i);\n        }\n      }\n      /**\n       * Closes socket.\n       *\n       * @api private\n       */\n\n    }, {\n      key: \"doClose\",\n      value: function doClose() {\n        if (typeof this.ws !== \"undefined\") {\n          this.ws.close();\n          this.ws = null;\n        }\n      }\n      /**\n       * Generates uri for connection.\n       *\n       * @api private\n       */\n\n    }, {\n      key: \"uri\",\n      value: function uri() {\n        var query = this.query || {};\n        var schema = this.opts.secure ? \"wss\" : \"ws\";\n        var port = \"\"; // avoid port if default for schema\n\n        if (this.opts.port && (\"wss\" === schema && Number(this.opts.port) !== 443 || \"ws\" === schema && Number(this.opts.port) !== 80)) {\n          port = \":\" + this.opts.port;\n        } // append timestamp to URI\n\n\n        if (this.opts.timestampRequests) {\n          query[this.opts.timestampParam] = yeast_1();\n        } // communicate binary support capabilities\n\n\n        if (!this.supportsBinary) {\n          query.b64 = 1;\n        }\n\n        var encodedQuery = parseqs.encode(query);\n        var ipv6 = this.opts.hostname.indexOf(\":\") !== -1;\n        return schema + \"://\" + (ipv6 ? \"[\" + this.opts.hostname + \"]\" : this.opts.hostname) + port + this.opts.path + (encodedQuery.length ? \"?\" + encodedQuery : \"\");\n      }\n      /**\n       * Feature detection for WebSocket.\n       *\n       * @return {Boolean} whether this transport is available.\n       * @api public\n       */\n\n    }, {\n      key: \"check\",\n      value: function check() {\n        return !!WebSocket && !(\"__initialize\" in WebSocket && this.name === WS.prototype.name);\n      }\n    }]);\n\n    return WS;\n  }(Transport);\n\n  var transports = {\n    websocket: WS,\n    polling: XHR\n  };\n\n  var Socket$1 = /*#__PURE__*/function (_Emitter) {\n    _inherits(Socket, _Emitter);\n\n    var _super = _createSuper(Socket);\n\n    /**\n     * Socket constructor.\n     *\n     * @param {String|Object} uri or options\n     * @param {Object} opts - options\n     * @api public\n     */\n    function Socket(uri) {\n      var _this;\n\n      var opts = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n      _classCallCheck(this, Socket);\n\n      _this = _super.call(this);\n\n      if (uri && \"object\" === _typeof(uri)) {\n        opts = uri;\n        uri = null;\n      }\n\n      if (uri) {\n        uri = parseuri(uri);\n        opts.hostname = uri.host;\n        opts.secure = uri.protocol === \"https\" || uri.protocol === \"wss\";\n        opts.port = uri.port;\n        if (uri.query) opts.query = uri.query;\n      } else if (opts.host) {\n        opts.hostname = parseuri(opts.host).host;\n      }\n\n      installTimerFunctions(_assertThisInitialized(_this), opts);\n      _this.secure = null != opts.secure ? opts.secure : typeof location !== \"undefined\" && \"https:\" === location.protocol;\n\n      if (opts.hostname && !opts.port) {\n        // if no port is specified manually, use the protocol default\n        opts.port = _this.secure ? \"443\" : \"80\";\n      }\n\n      _this.hostname = opts.hostname || (typeof location !== \"undefined\" ? location.hostname : \"localhost\");\n      _this.port = opts.port || (typeof location !== \"undefined\" && location.port ? location.port : _this.secure ? \"443\" : \"80\");\n      _this.transports = opts.transports || [\"polling\", \"websocket\"];\n      _this.readyState = \"\";\n      _this.writeBuffer = [];\n      _this.prevBufferLen = 0;\n      _this.opts = _extends({\n        path: \"/engine.io\",\n        agent: false,\n        withCredentials: false,\n        upgrade: true,\n        timestampParam: \"t\",\n        rememberUpgrade: false,\n        rejectUnauthorized: true,\n        perMessageDeflate: {\n          threshold: 1024\n        },\n        transportOptions: {},\n        closeOnBeforeunload: true\n      }, opts);\n      _this.opts.path = _this.opts.path.replace(/\\/$/, \"\") + \"/\";\n\n      if (typeof _this.opts.query === \"string\") {\n        _this.opts.query = parseqs.decode(_this.opts.query);\n      } // set on handshake\n\n\n      _this.id = null;\n      _this.upgrades = null;\n      _this.pingInterval = null;\n      _this.pingTimeout = null; // set on heartbeat\n\n      _this.pingTimeoutTimer = null;\n\n      if (typeof addEventListener === \"function\") {\n        if (_this.opts.closeOnBeforeunload) {\n          // Firefox closes the connection when the \"beforeunload\" event is emitted but not Chrome. This event listener\n          // ensures every browser behaves the same (no \"disconnect\" event at the Socket.IO level when the page is\n          // closed/reloaded)\n          addEventListener(\"beforeunload\", function () {\n            if (_this.transport) {\n              // silently close the transport\n              _this.transport.removeAllListeners();\n\n              _this.transport.close();\n            }\n          }, false);\n        }\n\n        if (_this.hostname !== \"localhost\") {\n          _this.offlineEventListener = function () {\n            _this.onClose(\"transport close\");\n          };\n\n          addEventListener(\"offline\", _this.offlineEventListener, false);\n        }\n      }\n\n      _this.open();\n\n      return _this;\n    }\n    /**\n     * Creates transport of the given type.\n     *\n     * @param {String} transport name\n     * @return {Transport}\n     * @api private\n     */\n\n\n    _createClass(Socket, [{\n      key: \"createTransport\",\n      value: function createTransport(name) {\n        var query = clone(this.opts.query); // append engine.io protocol identifier\n\n        query.EIO = protocol$1; // transport name\n\n        query.transport = name; // session id if we already have one\n\n        if (this.id) query.sid = this.id;\n\n        var opts = _extends({}, this.opts.transportOptions[name], this.opts, {\n          query: query,\n          socket: this,\n          hostname: this.hostname,\n          secure: this.secure,\n          port: this.port\n        });\n\n        return new transports[name](opts);\n      }\n      /**\n       * Initializes transport to use and starts probe.\n       *\n       * @api private\n       */\n\n    }, {\n      key: \"open\",\n      value: function open() {\n        var _this2 = this;\n\n        var transport;\n\n        if (this.opts.rememberUpgrade && Socket.priorWebsocketSuccess && this.transports.indexOf(\"websocket\") !== -1) {\n          transport = \"websocket\";\n        } else if (0 === this.transports.length) {\n          // Emit error on next tick so it can be listened to\n          this.setTimeoutFn(function () {\n            _this2.emitReserved(\"error\", \"No transports available\");\n          }, 0);\n          return;\n        } else {\n          transport = this.transports[0];\n        }\n\n        this.readyState = \"opening\"; // Retry with the next transport if the transport is disabled (jsonp: false)\n\n        try {\n          transport = this.createTransport(transport);\n        } catch (e) {\n          this.transports.shift();\n          this.open();\n          return;\n        }\n\n        transport.open();\n        this.setTransport(transport);\n      }\n      /**\n       * Sets the current transport. Disables the existing one (if any).\n       *\n       * @api private\n       */\n\n    }, {\n      key: \"setTransport\",\n      value: function setTransport(transport) {\n        var _this3 = this;\n\n        if (this.transport) {\n          this.transport.removeAllListeners();\n        } // set up transport\n\n\n        this.transport = transport; // set up transport listeners\n\n        transport.on(\"drain\", this.onDrain.bind(this)).on(\"packet\", this.onPacket.bind(this)).on(\"error\", this.onError.bind(this)).on(\"close\", function () {\n          _this3.onClose(\"transport close\");\n        });\n      }\n      /**\n       * Probes a transport.\n       *\n       * @param {String} transport name\n       * @api private\n       */\n\n    }, {\n      key: \"probe\",\n      value: function probe(name) {\n        var _this4 = this;\n\n        var transport = this.createTransport(name);\n        var failed = false;\n        Socket.priorWebsocketSuccess = false;\n\n        var onTransportOpen = function onTransportOpen() {\n          if (failed) return;\n          transport.send([{\n            type: \"ping\",\n            data: \"probe\"\n          }]);\n          transport.once(\"packet\", function (msg) {\n            if (failed) return;\n\n            if (\"pong\" === msg.type && \"probe\" === msg.data) {\n              _this4.upgrading = true;\n\n              _this4.emitReserved(\"upgrading\", transport);\n\n              if (!transport) return;\n              Socket.priorWebsocketSuccess = \"websocket\" === transport.name;\n\n              _this4.transport.pause(function () {\n                if (failed) return;\n                if (\"closed\" === _this4.readyState) return;\n                cleanup();\n\n                _this4.setTransport(transport);\n\n                transport.send([{\n                  type: \"upgrade\"\n                }]);\n\n                _this4.emitReserved(\"upgrade\", transport);\n\n                transport = null;\n                _this4.upgrading = false;\n\n                _this4.flush();\n              });\n            } else {\n              var err = new Error(\"probe error\"); // @ts-ignore\n\n              err.transport = transport.name;\n\n              _this4.emitReserved(\"upgradeError\", err);\n            }\n          });\n        };\n\n        function freezeTransport() {\n          if (failed) return; // Any callback called by transport should be ignored since now\n\n          failed = true;\n          cleanup();\n          transport.close();\n          transport = null;\n        } // Handle any error that happens while probing\n\n\n        var onerror = function onerror(err) {\n          var error = new Error(\"probe error: \" + err); // @ts-ignore\n\n          error.transport = transport.name;\n          freezeTransport();\n\n          _this4.emitReserved(\"upgradeError\", error);\n        };\n\n        function onTransportClose() {\n          onerror(\"transport closed\");\n        } // When the socket is closed while we're probing\n\n\n        function onclose() {\n          onerror(\"socket closed\");\n        } // When the socket is upgraded while we're probing\n\n\n        function onupgrade(to) {\n          if (transport && to.name !== transport.name) {\n            freezeTransport();\n          }\n        } // Remove all listeners on the transport and on self\n\n\n        var cleanup = function cleanup() {\n          transport.removeListener(\"open\", onTransportOpen);\n          transport.removeListener(\"error\", onerror);\n          transport.removeListener(\"close\", onTransportClose);\n\n          _this4.off(\"close\", onclose);\n\n          _this4.off(\"upgrading\", onupgrade);\n        };\n\n        transport.once(\"open\", onTransportOpen);\n        transport.once(\"error\", onerror);\n        transport.once(\"close\", onTransportClose);\n        this.once(\"close\", onclose);\n        this.once(\"upgrading\", onupgrade);\n        transport.open();\n      }\n      /**\n       * Called when connection is deemed open.\n       *\n       * @api private\n       */\n\n    }, {\n      key: \"onOpen\",\n      value: function onOpen() {\n        this.readyState = \"open\";\n        Socket.priorWebsocketSuccess = \"websocket\" === this.transport.name;\n        this.emitReserved(\"open\");\n        this.flush(); // we check for `readyState` in case an `open`\n        // listener already closed the socket\n\n        if (\"open\" === this.readyState && this.opts.upgrade && this.transport.pause) {\n          var i = 0;\n          var l = this.upgrades.length;\n\n          for (; i < l; i++) {\n            this.probe(this.upgrades[i]);\n          }\n        }\n      }\n      /**\n       * Handles a packet.\n       *\n       * @api private\n       */\n\n    }, {\n      key: \"onPacket\",\n      value: function onPacket(packet) {\n        if (\"opening\" === this.readyState || \"open\" === this.readyState || \"closing\" === this.readyState) {\n          this.emitReserved(\"packet\", packet); // Socket is live - any packet counts\n\n          this.emitReserved(\"heartbeat\");\n\n          switch (packet.type) {\n            case \"open\":\n              this.onHandshake(JSON.parse(packet.data));\n              break;\n\n            case \"ping\":\n              this.resetPingTimeout();\n              this.sendPacket(\"pong\");\n              this.emitReserved(\"ping\");\n              this.emitReserved(\"pong\");\n              break;\n\n            case \"error\":\n              var err = new Error(\"server error\"); // @ts-ignore\n\n              err.code = packet.data;\n              this.onError(err);\n              break;\n\n            case \"message\":\n              this.emitReserved(\"data\", packet.data);\n              this.emitReserved(\"message\", packet.data);\n              break;\n          }\n        }\n      }\n      /**\n       * Called upon handshake completion.\n       *\n       * @param {Object} data - handshake obj\n       * @api private\n       */\n\n    }, {\n      key: \"onHandshake\",\n      value: function onHandshake(data) {\n        this.emitReserved(\"handshake\", data);\n        this.id = data.sid;\n        this.transport.query.sid = data.sid;\n        this.upgrades = this.filterUpgrades(data.upgrades);\n        this.pingInterval = data.pingInterval;\n        this.pingTimeout = data.pingTimeout;\n        this.onOpen(); // In case open handler closes socket\n\n        if (\"closed\" === this.readyState) return;\n        this.resetPingTimeout();\n      }\n      /**\n       * Sets and resets ping timeout timer based on server pings.\n       *\n       * @api private\n       */\n\n    }, {\n      key: \"resetPingTimeout\",\n      value: function resetPingTimeout() {\n        var _this5 = this;\n\n        this.clearTimeoutFn(this.pingTimeoutTimer);\n        this.pingTimeoutTimer = this.setTimeoutFn(function () {\n          _this5.onClose(\"ping timeout\");\n        }, this.pingInterval + this.pingTimeout);\n\n        if (this.opts.autoUnref) {\n          this.pingTimeoutTimer.unref();\n        }\n      }\n      /**\n       * Called on `drain` event\n       *\n       * @api private\n       */\n\n    }, {\n      key: \"onDrain\",\n      value: function onDrain() {\n        this.writeBuffer.splice(0, this.prevBufferLen); // setting prevBufferLen = 0 is very important\n        // for example, when upgrading, upgrade packet is sent over,\n        // and a nonzero prevBufferLen could cause problems on `drain`\n\n        this.prevBufferLen = 0;\n\n        if (0 === this.writeBuffer.length) {\n          this.emitReserved(\"drain\");\n        } else {\n          this.flush();\n        }\n      }\n      /**\n       * Flush write buffers.\n       *\n       * @api private\n       */\n\n    }, {\n      key: \"flush\",\n      value: function flush() {\n        if (\"closed\" !== this.readyState && this.transport.writable && !this.upgrading && this.writeBuffer.length) {\n          this.transport.send(this.writeBuffer); // keep track of current length of writeBuffer\n          // splice writeBuffer and callbackBuffer on `drain`\n\n          this.prevBufferLen = this.writeBuffer.length;\n          this.emitReserved(\"flush\");\n        }\n      }\n      /**\n       * Sends a message.\n       *\n       * @param {String} message.\n       * @param {Function} callback function.\n       * @param {Object} options.\n       * @return {Socket} for chaining.\n       * @api public\n       */\n\n    }, {\n      key: \"write\",\n      value: function write(msg, options, fn) {\n        this.sendPacket(\"message\", msg, options, fn);\n        return this;\n      }\n    }, {\n      key: \"send\",\n      value: function send(msg, options, fn) {\n        this.sendPacket(\"message\", msg, options, fn);\n        return this;\n      }\n      /**\n       * Sends a packet.\n       *\n       * @param {String} packet type.\n       * @param {String} data.\n       * @param {Object} options.\n       * @param {Function} callback function.\n       * @api private\n       */\n\n    }, {\n      key: \"sendPacket\",\n      value: function sendPacket(type, data, options, fn) {\n        if (\"function\" === typeof data) {\n          fn = data;\n          data = undefined;\n        }\n\n        if (\"function\" === typeof options) {\n          fn = options;\n          options = null;\n        }\n\n        if (\"closing\" === this.readyState || \"closed\" === this.readyState) {\n          return;\n        }\n\n        options = options || {};\n        options.compress = false !== options.compress;\n        var packet = {\n          type: type,\n          data: data,\n          options: options\n        };\n        this.emitReserved(\"packetCreate\", packet);\n        this.writeBuffer.push(packet);\n        if (fn) this.once(\"flush\", fn);\n        this.flush();\n      }\n      /**\n       * Closes the connection.\n       *\n       * @api public\n       */\n\n    }, {\n      key: \"close\",\n      value: function close() {\n        var _this6 = this;\n\n        var close = function close() {\n          _this6.onClose(\"forced close\");\n\n          _this6.transport.close();\n        };\n\n        var cleanupAndClose = function cleanupAndClose() {\n          _this6.off(\"upgrade\", cleanupAndClose);\n\n          _this6.off(\"upgradeError\", cleanupAndClose);\n\n          close();\n        };\n\n        var waitForUpgrade = function waitForUpgrade() {\n          // wait for upgrade to finish since we can't send packets while pausing a transport\n          _this6.once(\"upgrade\", cleanupAndClose);\n\n          _this6.once(\"upgradeError\", cleanupAndClose);\n        };\n\n        if (\"opening\" === this.readyState || \"open\" === this.readyState) {\n          this.readyState = \"closing\";\n\n          if (this.writeBuffer.length) {\n            this.once(\"drain\", function () {\n              if (_this6.upgrading) {\n                waitForUpgrade();\n              } else {\n                close();\n              }\n            });\n          } else if (this.upgrading) {\n            waitForUpgrade();\n          } else {\n            close();\n          }\n        }\n\n        return this;\n      }\n      /**\n       * Called upon transport error\n       *\n       * @api private\n       */\n\n    }, {\n      key: \"onError\",\n      value: function onError(err) {\n        Socket.priorWebsocketSuccess = false;\n        this.emitReserved(\"error\", err);\n        this.onClose(\"transport error\", err);\n      }\n      /**\n       * Called upon transport close.\n       *\n       * @api private\n       */\n\n    }, {\n      key: \"onClose\",\n      value: function onClose(reason, desc) {\n        if (\"opening\" === this.readyState || \"open\" === this.readyState || \"closing\" === this.readyState) {\n          // clear timers\n          this.clearTimeoutFn(this.pingTimeoutTimer); // stop event from firing again for transport\n\n          this.transport.removeAllListeners(\"close\"); // ensure transport won't stay open\n\n          this.transport.close(); // ignore further transport communication\n\n          this.transport.removeAllListeners();\n\n          if (typeof removeEventListener === \"function\") {\n            removeEventListener(\"offline\", this.offlineEventListener, false);\n          } // set ready state\n\n\n          this.readyState = \"closed\"; // clear session id\n\n          this.id = null; // emit close event\n\n          this.emitReserved(\"close\", reason, desc); // clean buffers after, so users can still\n          // grab the buffers on `close` event\n\n          this.writeBuffer = [];\n          this.prevBufferLen = 0;\n        }\n      }\n      /**\n       * Filters upgrades, returning only those matching client transports.\n       *\n       * @param {Array} server upgrades\n       * @api private\n       *\n       */\n\n    }, {\n      key: \"filterUpgrades\",\n      value: function filterUpgrades(upgrades) {\n        var filteredUpgrades = [];\n        var i = 0;\n        var j = upgrades.length;\n\n        for (; i < j; i++) {\n          if (~this.transports.indexOf(upgrades[i])) filteredUpgrades.push(upgrades[i]);\n        }\n\n        return filteredUpgrades;\n      }\n    }]);\n\n    return Socket;\n  }(Emitter_1);\n  Socket$1.protocol = protocol$1;\n\n  function clone(obj) {\n    var o = {};\n\n    for (var i in obj) {\n      if (obj.hasOwnProperty(i)) {\n        o[i] = obj[i];\n      }\n    }\n\n    return o;\n  }\n\n  var withNativeArrayBuffer = typeof ArrayBuffer === \"function\";\n\n  var isView = function isView(obj) {\n    return typeof ArrayBuffer.isView === \"function\" ? ArrayBuffer.isView(obj) : obj.buffer instanceof ArrayBuffer;\n  };\n\n  var toString = Object.prototype.toString;\n  var withNativeBlob = typeof Blob === \"function\" || typeof Blob !== \"undefined\" && toString.call(Blob) === \"[object BlobConstructor]\";\n  var withNativeFile = typeof File === \"function\" || typeof File !== \"undefined\" && toString.call(File) === \"[object FileConstructor]\";\n  /**\n   * Returns true if obj is a Buffer, an ArrayBuffer, a Blob or a File.\n   *\n   * @private\n   */\n\n  function isBinary(obj) {\n    return withNativeArrayBuffer && (obj instanceof ArrayBuffer || isView(obj)) || withNativeBlob && obj instanceof Blob || withNativeFile && obj instanceof File;\n  }\n  function hasBinary(obj, toJSON) {\n    if (!obj || _typeof(obj) !== \"object\") {\n      return false;\n    }\n\n    if (Array.isArray(obj)) {\n      for (var i = 0, l = obj.length; i < l; i++) {\n        if (hasBinary(obj[i])) {\n          return true;\n        }\n      }\n\n      return false;\n    }\n\n    if (isBinary(obj)) {\n      return true;\n    }\n\n    if (obj.toJSON && typeof obj.toJSON === \"function\" && arguments.length === 1) {\n      return hasBinary(obj.toJSON(), true);\n    }\n\n    for (var key in obj) {\n      if (Object.prototype.hasOwnProperty.call(obj, key) && hasBinary(obj[key])) {\n        return true;\n      }\n    }\n\n    return false;\n  }\n\n  /**\n   * Replaces every Buffer | ArrayBuffer | Blob | File in packet with a numbered placeholder.\n   *\n   * @param {Object} packet - socket.io event packet\n   * @return {Object} with deconstructed packet and list of buffers\n   * @public\n   */\n\n  function deconstructPacket(packet) {\n    var buffers = [];\n    var packetData = packet.data;\n    var pack = packet;\n    pack.data = _deconstructPacket(packetData, buffers);\n    pack.attachments = buffers.length; // number of binary 'attachments'\n\n    return {\n      packet: pack,\n      buffers: buffers\n    };\n  }\n\n  function _deconstructPacket(data, buffers) {\n    if (!data) return data;\n\n    if (isBinary(data)) {\n      var placeholder = {\n        _placeholder: true,\n        num: buffers.length\n      };\n      buffers.push(data);\n      return placeholder;\n    } else if (Array.isArray(data)) {\n      var newData = new Array(data.length);\n\n      for (var i = 0; i < data.length; i++) {\n        newData[i] = _deconstructPacket(data[i], buffers);\n      }\n\n      return newData;\n    } else if (_typeof(data) === \"object\" && !(data instanceof Date)) {\n      var _newData = {};\n\n      for (var key in data) {\n        if (data.hasOwnProperty(key)) {\n          _newData[key] = _deconstructPacket(data[key], buffers);\n        }\n      }\n\n      return _newData;\n    }\n\n    return data;\n  }\n  /**\n   * Reconstructs a binary packet from its placeholder packet and buffers\n   *\n   * @param {Object} packet - event packet with placeholders\n   * @param {Array} buffers - binary buffers to put in placeholder positions\n   * @return {Object} reconstructed packet\n   * @public\n   */\n\n\n  function reconstructPacket(packet, buffers) {\n    packet.data = _reconstructPacket(packet.data, buffers);\n    packet.attachments = undefined; // no longer useful\n\n    return packet;\n  }\n\n  function _reconstructPacket(data, buffers) {\n    if (!data) return data;\n\n    if (data && data._placeholder) {\n      return buffers[data.num]; // appropriate buffer (should be natural order anyway)\n    } else if (Array.isArray(data)) {\n      for (var i = 0; i < data.length; i++) {\n        data[i] = _reconstructPacket(data[i], buffers);\n      }\n    } else if (_typeof(data) === \"object\") {\n      for (var key in data) {\n        if (data.hasOwnProperty(key)) {\n          data[key] = _reconstructPacket(data[key], buffers);\n        }\n      }\n    }\n\n    return data;\n  }\n\n  /**\n   * Protocol version.\n   *\n   * @public\n   */\n\n  var protocol = 5;\n  var PacketType;\n\n  (function (PacketType) {\n    PacketType[PacketType[\"CONNECT\"] = 0] = \"CONNECT\";\n    PacketType[PacketType[\"DISCONNECT\"] = 1] = \"DISCONNECT\";\n    PacketType[PacketType[\"EVENT\"] = 2] = \"EVENT\";\n    PacketType[PacketType[\"ACK\"] = 3] = \"ACK\";\n    PacketType[PacketType[\"CONNECT_ERROR\"] = 4] = \"CONNECT_ERROR\";\n    PacketType[PacketType[\"BINARY_EVENT\"] = 5] = \"BINARY_EVENT\";\n    PacketType[PacketType[\"BINARY_ACK\"] = 6] = \"BINARY_ACK\";\n  })(PacketType || (PacketType = {}));\n  /**\n   * A socket.io Encoder instance\n   */\n\n\n  var Encoder = /*#__PURE__*/function () {\n    function Encoder() {\n      _classCallCheck(this, Encoder);\n    }\n\n    _createClass(Encoder, [{\n      key: \"encode\",\n      value:\n      /**\n       * Encode a packet as a single string if non-binary, or as a\n       * buffer sequence, depending on packet type.\n       *\n       * @param {Object} obj - packet object\n       */\n      function encode(obj) {\n        if (obj.type === PacketType.EVENT || obj.type === PacketType.ACK) {\n          if (hasBinary(obj)) {\n            obj.type = obj.type === PacketType.EVENT ? PacketType.BINARY_EVENT : PacketType.BINARY_ACK;\n            return this.encodeAsBinary(obj);\n          }\n        }\n\n        return [this.encodeAsString(obj)];\n      }\n      /**\n       * Encode packet as string.\n       */\n\n    }, {\n      key: \"encodeAsString\",\n      value: function encodeAsString(obj) {\n        // first is type\n        var str = \"\" + obj.type; // attachments if we have them\n\n        if (obj.type === PacketType.BINARY_EVENT || obj.type === PacketType.BINARY_ACK) {\n          str += obj.attachments + \"-\";\n        } // if we have a namespace other than `/`\n        // we append it followed by a comma `,`\n\n\n        if (obj.nsp && \"/\" !== obj.nsp) {\n          str += obj.nsp + \",\";\n        } // immediately followed by the id\n\n\n        if (null != obj.id) {\n          str += obj.id;\n        } // json data\n\n\n        if (null != obj.data) {\n          str += JSON.stringify(obj.data);\n        }\n\n        return str;\n      }\n      /**\n       * Encode packet as 'buffer sequence' by removing blobs, and\n       * deconstructing packet into object with placeholders and\n       * a list of buffers.\n       */\n\n    }, {\n      key: \"encodeAsBinary\",\n      value: function encodeAsBinary(obj) {\n        var deconstruction = deconstructPacket(obj);\n        var pack = this.encodeAsString(deconstruction.packet);\n        var buffers = deconstruction.buffers;\n        buffers.unshift(pack); // add packet info to beginning of data list\n\n        return buffers; // write all the buffers\n      }\n    }]);\n\n    return Encoder;\n  }();\n  /**\n   * A socket.io Decoder instance\n   *\n   * @return {Object} decoder\n   */\n\n  var Decoder = /*#__PURE__*/function (_Emitter) {\n    _inherits(Decoder, _Emitter);\n\n    var _super = _createSuper(Decoder);\n\n    function Decoder() {\n      _classCallCheck(this, Decoder);\n\n      return _super.call(this);\n    }\n    /**\n     * Decodes an encoded packet string into packet JSON.\n     *\n     * @param {String} obj - encoded packet\n     */\n\n\n    _createClass(Decoder, [{\n      key: \"add\",\n      value: function add(obj) {\n        var packet;\n\n        if (typeof obj === \"string\") {\n          packet = this.decodeString(obj);\n\n          if (packet.type === PacketType.BINARY_EVENT || packet.type === PacketType.BINARY_ACK) {\n            // binary packet's json\n            this.reconstructor = new BinaryReconstructor(packet); // no attachments, labeled binary but no binary data to follow\n\n            if (packet.attachments === 0) {\n              _get(_getPrototypeOf(Decoder.prototype), \"emitReserved\", this).call(this, \"decoded\", packet);\n            }\n          } else {\n            // non-binary full packet\n            _get(_getPrototypeOf(Decoder.prototype), \"emitReserved\", this).call(this, \"decoded\", packet);\n          }\n        } else if (isBinary(obj) || obj.base64) {\n          // raw binary data\n          if (!this.reconstructor) {\n            throw new Error(\"got binary data when not reconstructing a packet\");\n          } else {\n            packet = this.reconstructor.takeBinaryData(obj);\n\n            if (packet) {\n              // received final buffer\n              this.reconstructor = null;\n\n              _get(_getPrototypeOf(Decoder.prototype), \"emitReserved\", this).call(this, \"decoded\", packet);\n            }\n          }\n        } else {\n          throw new Error(\"Unknown type: \" + obj);\n        }\n      }\n      /**\n       * Decode a packet String (JSON data)\n       *\n       * @param {String} str\n       * @return {Object} packet\n       */\n\n    }, {\n      key: \"decodeString\",\n      value: function decodeString(str) {\n        var i = 0; // look up type\n\n        var p = {\n          type: Number(str.charAt(0))\n        };\n\n        if (PacketType[p.type] === undefined) {\n          throw new Error(\"unknown packet type \" + p.type);\n        } // look up attachments if type binary\n\n\n        if (p.type === PacketType.BINARY_EVENT || p.type === PacketType.BINARY_ACK) {\n          var start = i + 1;\n\n          while (str.charAt(++i) !== \"-\" && i != str.length) {}\n\n          var buf = str.substring(start, i);\n\n          if (buf != Number(buf) || str.charAt(i) !== \"-\") {\n            throw new Error(\"Illegal attachments\");\n          }\n\n          p.attachments = Number(buf);\n        } // look up namespace (if any)\n\n\n        if (\"/\" === str.charAt(i + 1)) {\n          var _start = i + 1;\n\n          while (++i) {\n            var c = str.charAt(i);\n            if (\",\" === c) break;\n            if (i === str.length) break;\n          }\n\n          p.nsp = str.substring(_start, i);\n        } else {\n          p.nsp = \"/\";\n        } // look up id\n\n\n        var next = str.charAt(i + 1);\n\n        if (\"\" !== next && Number(next) == next) {\n          var _start2 = i + 1;\n\n          while (++i) {\n            var _c = str.charAt(i);\n\n            if (null == _c || Number(_c) != _c) {\n              --i;\n              break;\n            }\n\n            if (i === str.length) break;\n          }\n\n          p.id = Number(str.substring(_start2, i + 1));\n        } // look up json data\n\n\n        if (str.charAt(++i)) {\n          var payload = tryParse(str.substr(i));\n\n          if (Decoder.isPayloadValid(p.type, payload)) {\n            p.data = payload;\n          } else {\n            throw new Error(\"invalid payload\");\n          }\n        }\n\n        return p;\n      }\n    }, {\n      key: \"destroy\",\n      value:\n      /**\n       * Deallocates a parser's resources\n       */\n      function destroy() {\n        if (this.reconstructor) {\n          this.reconstructor.finishedReconstruction();\n        }\n      }\n    }], [{\n      key: \"isPayloadValid\",\n      value: function isPayloadValid(type, payload) {\n        switch (type) {\n          case PacketType.CONNECT:\n            return _typeof(payload) === \"object\";\n\n          case PacketType.DISCONNECT:\n            return payload === undefined;\n\n          case PacketType.CONNECT_ERROR:\n            return typeof payload === \"string\" || _typeof(payload) === \"object\";\n\n          case PacketType.EVENT:\n          case PacketType.BINARY_EVENT:\n            return Array.isArray(payload) && payload.length > 0;\n\n          case PacketType.ACK:\n          case PacketType.BINARY_ACK:\n            return Array.isArray(payload);\n        }\n      }\n    }]);\n\n    return Decoder;\n  }(Emitter_1);\n\n  function tryParse(str) {\n    try {\n      return JSON.parse(str);\n    } catch (e) {\n      return false;\n    }\n  }\n  /**\n   * A manager of a binary event's 'buffer sequence'. Should\n   * be constructed whenever a packet of type BINARY_EVENT is\n   * decoded.\n   *\n   * @param {Object} packet\n   * @return {BinaryReconstructor} initialized reconstructor\n   */\n\n\n  var BinaryReconstructor = /*#__PURE__*/function () {\n    function BinaryReconstructor(packet) {\n      _classCallCheck(this, BinaryReconstructor);\n\n      this.packet = packet;\n      this.buffers = [];\n      this.reconPack = packet;\n    }\n    /**\n     * Method to be called when binary data received from connection\n     * after a BINARY_EVENT packet.\n     *\n     * @param {Buffer | ArrayBuffer} binData - the raw binary data received\n     * @return {null | Object} returns null if more binary data is expected or\n     *   a reconstructed packet object if all buffers have been received.\n     */\n\n\n    _createClass(BinaryReconstructor, [{\n      key: \"takeBinaryData\",\n      value: function takeBinaryData(binData) {\n        this.buffers.push(binData);\n\n        if (this.buffers.length === this.reconPack.attachments) {\n          // done with buffer list\n          var packet = reconstructPacket(this.reconPack, this.buffers);\n          this.finishedReconstruction();\n          return packet;\n        }\n\n        return null;\n      }\n      /**\n       * Cleans up binary packet reconstruction variables.\n       */\n\n    }, {\n      key: \"finishedReconstruction\",\n      value: function finishedReconstruction() {\n        this.reconPack = null;\n        this.buffers = [];\n      }\n    }]);\n\n    return BinaryReconstructor;\n  }();\n\n  var parser = /*#__PURE__*/Object.freeze({\n    __proto__: null,\n    protocol: protocol,\n    get PacketType () { return PacketType; },\n    Encoder: Encoder,\n    Decoder: Decoder\n  });\n\n  function on(obj, ev, fn) {\n    obj.on(ev, fn);\n    return function subDestroy() {\n      obj.off(ev, fn);\n    };\n  }\n\n  /**\n   * Internal events.\n   * These events can't be emitted by the user.\n   */\n\n  var RESERVED_EVENTS = Object.freeze({\n    connect: 1,\n    connect_error: 1,\n    disconnect: 1,\n    disconnecting: 1,\n    // EventEmitter reserved events: https://nodejs.org/api/events.html#events_event_newlistener\n    newListener: 1,\n    removeListener: 1\n  });\n  var Socket = /*#__PURE__*/function (_Emitter) {\n    _inherits(Socket, _Emitter);\n\n    var _super = _createSuper(Socket);\n\n    /**\n     * `Socket` constructor.\n     *\n     * @public\n     */\n    function Socket(io, nsp, opts) {\n      var _this;\n\n      _classCallCheck(this, Socket);\n\n      _this = _super.call(this);\n      _this.connected = false;\n      _this.disconnected = true;\n      _this.receiveBuffer = [];\n      _this.sendBuffer = [];\n      _this.ids = 0;\n      _this.acks = {};\n      _this.flags = {};\n      _this.io = io;\n      _this.nsp = nsp;\n\n      if (opts && opts.auth) {\n        _this.auth = opts.auth;\n      }\n\n      if (_this.io._autoConnect) _this.open();\n      return _this;\n    }\n    /**\n     * Subscribe to open, close and packet events\n     *\n     * @private\n     */\n\n\n    _createClass(Socket, [{\n      key: \"subEvents\",\n      value: function subEvents() {\n        if (this.subs) return;\n        var io = this.io;\n        this.subs = [on(io, \"open\", this.onopen.bind(this)), on(io, \"packet\", this.onpacket.bind(this)), on(io, \"error\", this.onerror.bind(this)), on(io, \"close\", this.onclose.bind(this))];\n      }\n      /**\n       * Whether the Socket will try to reconnect when its Manager connects or reconnects\n       */\n\n    }, {\n      key: \"active\",\n      get: function get() {\n        return !!this.subs;\n      }\n      /**\n       * \"Opens\" the socket.\n       *\n       * @public\n       */\n\n    }, {\n      key: \"connect\",\n      value: function connect() {\n        if (this.connected) return this;\n        this.subEvents();\n        if (!this.io[\"_reconnecting\"]) this.io.open(); // ensure open\n\n        if (\"open\" === this.io._readyState) this.onopen();\n        return this;\n      }\n      /**\n       * Alias for connect()\n       */\n\n    }, {\n      key: \"open\",\n      value: function open() {\n        return this.connect();\n      }\n      /**\n       * Sends a `message` event.\n       *\n       * @return self\n       * @public\n       */\n\n    }, {\n      key: \"send\",\n      value: function send() {\n        for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n          args[_key] = arguments[_key];\n        }\n\n        args.unshift(\"message\");\n        this.emit.apply(this, args);\n        return this;\n      }\n      /**\n       * Override `emit`.\n       * If the event is in `events`, it's emitted normally.\n       *\n       * @return self\n       * @public\n       */\n\n    }, {\n      key: \"emit\",\n      value: function emit(ev) {\n        if (RESERVED_EVENTS.hasOwnProperty(ev)) {\n          throw new Error('\"' + ev + '\" is a reserved event name');\n        }\n\n        for (var _len2 = arguments.length, args = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n          args[_key2 - 1] = arguments[_key2];\n        }\n\n        args.unshift(ev);\n        var packet = {\n          type: PacketType.EVENT,\n          data: args\n        };\n        packet.options = {};\n        packet.options.compress = this.flags.compress !== false; // event ack callback\n\n        if (\"function\" === typeof args[args.length - 1]) {\n          var id = this.ids++;\n          var ack = args.pop();\n\n          this._registerAckCallback(id, ack);\n\n          packet.id = id;\n        }\n\n        var isTransportWritable = this.io.engine && this.io.engine.transport && this.io.engine.transport.writable;\n        var discardPacket = this.flags[\"volatile\"] && (!isTransportWritable || !this.connected);\n\n        if (discardPacket) ; else if (this.connected) {\n          this.packet(packet);\n        } else {\n          this.sendBuffer.push(packet);\n        }\n\n        this.flags = {};\n        return this;\n      }\n      /**\n       * @private\n       */\n\n    }, {\n      key: \"_registerAckCallback\",\n      value: function _registerAckCallback(id, ack) {\n        var _this2 = this;\n\n        var timeout = this.flags.timeout;\n\n        if (timeout === undefined) {\n          this.acks[id] = ack;\n          return;\n        } // @ts-ignore\n\n\n        var timer = this.io.setTimeoutFn(function () {\n          delete _this2.acks[id];\n\n          for (var i = 0; i < _this2.sendBuffer.length; i++) {\n            if (_this2.sendBuffer[i].id === id) {\n              _this2.sendBuffer.splice(i, 1);\n            }\n          }\n\n          ack.call(_this2, new Error(\"operation has timed out\"));\n        }, timeout);\n\n        this.acks[id] = function () {\n          // @ts-ignore\n          _this2.io.clearTimeoutFn(timer);\n\n          for (var _len3 = arguments.length, args = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n            args[_key3] = arguments[_key3];\n          }\n\n          ack.apply(_this2, [null].concat(args));\n        };\n      }\n      /**\n       * Sends a packet.\n       *\n       * @param packet\n       * @private\n       */\n\n    }, {\n      key: \"packet\",\n      value: function packet(_packet) {\n        _packet.nsp = this.nsp;\n\n        this.io._packet(_packet);\n      }\n      /**\n       * Called upon engine `open`.\n       *\n       * @private\n       */\n\n    }, {\n      key: \"onopen\",\n      value: function onopen() {\n        var _this3 = this;\n\n        if (typeof this.auth == \"function\") {\n          this.auth(function (data) {\n            _this3.packet({\n              type: PacketType.CONNECT,\n              data: data\n            });\n          });\n        } else {\n          this.packet({\n            type: PacketType.CONNECT,\n            data: this.auth\n          });\n        }\n      }\n      /**\n       * Called upon engine or manager `error`.\n       *\n       * @param err\n       * @private\n       */\n\n    }, {\n      key: \"onerror\",\n      value: function onerror(err) {\n        if (!this.connected) {\n          this.emitReserved(\"connect_error\", err);\n        }\n      }\n      /**\n       * Called upon engine `close`.\n       *\n       * @param reason\n       * @private\n       */\n\n    }, {\n      key: \"onclose\",\n      value: function onclose(reason) {\n        this.connected = false;\n        this.disconnected = true;\n        delete this.id;\n        this.emitReserved(\"disconnect\", reason);\n      }\n      /**\n       * Called with socket packet.\n       *\n       * @param packet\n       * @private\n       */\n\n    }, {\n      key: \"onpacket\",\n      value: function onpacket(packet) {\n        var sameNamespace = packet.nsp === this.nsp;\n        if (!sameNamespace) return;\n\n        switch (packet.type) {\n          case PacketType.CONNECT:\n            if (packet.data && packet.data.sid) {\n              var id = packet.data.sid;\n              this.onconnect(id);\n            } else {\n              this.emitReserved(\"connect_error\", new Error(\"It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)\"));\n            }\n\n            break;\n\n          case PacketType.EVENT:\n            this.onevent(packet);\n            break;\n\n          case PacketType.BINARY_EVENT:\n            this.onevent(packet);\n            break;\n\n          case PacketType.ACK:\n            this.onack(packet);\n            break;\n\n          case PacketType.BINARY_ACK:\n            this.onack(packet);\n            break;\n\n          case PacketType.DISCONNECT:\n            this.ondisconnect();\n            break;\n\n          case PacketType.CONNECT_ERROR:\n            this.destroy();\n            var err = new Error(packet.data.message); // @ts-ignore\n\n            err.data = packet.data.data;\n            this.emitReserved(\"connect_error\", err);\n            break;\n        }\n      }\n      /**\n       * Called upon a server event.\n       *\n       * @param packet\n       * @private\n       */\n\n    }, {\n      key: \"onevent\",\n      value: function onevent(packet) {\n        var args = packet.data || [];\n\n        if (null != packet.id) {\n          args.push(this.ack(packet.id));\n        }\n\n        if (this.connected) {\n          this.emitEvent(args);\n        } else {\n          this.receiveBuffer.push(Object.freeze(args));\n        }\n      }\n    }, {\n      key: \"emitEvent\",\n      value: function emitEvent(args) {\n        if (this._anyListeners && this._anyListeners.length) {\n          var listeners = this._anyListeners.slice();\n\n          var _iterator = _createForOfIteratorHelper(listeners),\n              _step;\n\n          try {\n            for (_iterator.s(); !(_step = _iterator.n()).done;) {\n              var listener = _step.value;\n              listener.apply(this, args);\n            }\n          } catch (err) {\n            _iterator.e(err);\n          } finally {\n            _iterator.f();\n          }\n        }\n\n        _get(_getPrototypeOf(Socket.prototype), \"emit\", this).apply(this, args);\n      }\n      /**\n       * Produces an ack callback to emit with an event.\n       *\n       * @private\n       */\n\n    }, {\n      key: \"ack\",\n      value: function ack(id) {\n        var self = this;\n        var sent = false;\n        return function () {\n          // prevent double callbacks\n          if (sent) return;\n          sent = true;\n\n          for (var _len4 = arguments.length, args = new Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {\n            args[_key4] = arguments[_key4];\n          }\n\n          self.packet({\n            type: PacketType.ACK,\n            id: id,\n            data: args\n          });\n        };\n      }\n      /**\n       * Called upon a server acknowlegement.\n       *\n       * @param packet\n       * @private\n       */\n\n    }, {\n      key: \"onack\",\n      value: function onack(packet) {\n        var ack = this.acks[packet.id];\n\n        if (\"function\" === typeof ack) {\n          ack.apply(this, packet.data);\n          delete this.acks[packet.id];\n        }\n      }\n      /**\n       * Called upon server connect.\n       *\n       * @private\n       */\n\n    }, {\n      key: \"onconnect\",\n      value: function onconnect(id) {\n        this.id = id;\n        this.connected = true;\n        this.disconnected = false;\n        this.emitBuffered();\n        this.emitReserved(\"connect\");\n      }\n      /**\n       * Emit buffered events (received and emitted).\n       *\n       * @private\n       */\n\n    }, {\n      key: \"emitBuffered\",\n      value: function emitBuffered() {\n        var _this4 = this;\n\n        this.receiveBuffer.forEach(function (args) {\n          return _this4.emitEvent(args);\n        });\n        this.receiveBuffer = [];\n        this.sendBuffer.forEach(function (packet) {\n          return _this4.packet(packet);\n        });\n        this.sendBuffer = [];\n      }\n      /**\n       * Called upon server disconnect.\n       *\n       * @private\n       */\n\n    }, {\n      key: \"ondisconnect\",\n      value: function ondisconnect() {\n        this.destroy();\n        this.onclose(\"io server disconnect\");\n      }\n      /**\n       * Called upon forced client/server side disconnections,\n       * this method ensures the manager stops tracking us and\n       * that reconnections don't get triggered for this.\n       *\n       * @private\n       */\n\n    }, {\n      key: \"destroy\",\n      value: function destroy() {\n        if (this.subs) {\n          // clean subscriptions to avoid reconnections\n          this.subs.forEach(function (subDestroy) {\n            return subDestroy();\n          });\n          this.subs = undefined;\n        }\n\n        this.io[\"_destroy\"](this);\n      }\n      /**\n       * Disconnects the socket manually.\n       *\n       * @return self\n       * @public\n       */\n\n    }, {\n      key: \"disconnect\",\n      value: function disconnect() {\n        if (this.connected) {\n          this.packet({\n            type: PacketType.DISCONNECT\n          });\n        } // remove socket from pool\n\n\n        this.destroy();\n\n        if (this.connected) {\n          // fire events\n          this.onclose(\"io client disconnect\");\n        }\n\n        return this;\n      }\n      /**\n       * Alias for disconnect()\n       *\n       * @return self\n       * @public\n       */\n\n    }, {\n      key: \"close\",\n      value: function close() {\n        return this.disconnect();\n      }\n      /**\n       * Sets the compress flag.\n       *\n       * @param compress - if `true`, compresses the sending data\n       * @return self\n       * @public\n       */\n\n    }, {\n      key: \"compress\",\n      value: function compress(_compress) {\n        this.flags.compress = _compress;\n        return this;\n      }\n      /**\n       * Sets a modifier for a subsequent event emission that the event message will be dropped when this socket is not\n       * ready to send messages.\n       *\n       * @returns self\n       * @public\n       */\n\n    }, {\n      key: \"volatile\",\n      get: function get() {\n        this.flags[\"volatile\"] = true;\n        return this;\n      }\n      /**\n       * Sets a modifier for a subsequent event emission that the callback will be called with an error when the\n       * given number of milliseconds have elapsed without an acknowledgement from the server:\n       *\n       * ```\n       * socket.timeout(5000).emit(\"my-event\", (err) => {\n       *   if (err) {\n       *     // the server did not acknowledge the event in the given delay\n       *   }\n       * });\n       * ```\n       *\n       * @returns self\n       * @public\n       */\n\n    }, {\n      key: \"timeout\",\n      value: function timeout(_timeout) {\n        this.flags.timeout = _timeout;\n        return this;\n      }\n      /**\n       * Adds a listener that will be fired when any event is emitted. The event name is passed as the first argument to the\n       * callback.\n       *\n       * @param listener\n       * @public\n       */\n\n    }, {\n      key: \"onAny\",\n      value: function onAny(listener) {\n        this._anyListeners = this._anyListeners || [];\n\n        this._anyListeners.push(listener);\n\n        return this;\n      }\n      /**\n       * Adds a listener that will be fired when any event is emitted. The event name is passed as the first argument to the\n       * callback. The listener is added to the beginning of the listeners array.\n       *\n       * @param listener\n       * @public\n       */\n\n    }, {\n      key: \"prependAny\",\n      value: function prependAny(listener) {\n        this._anyListeners = this._anyListeners || [];\n\n        this._anyListeners.unshift(listener);\n\n        return this;\n      }\n      /**\n       * Removes the listener that will be fired when any event is emitted.\n       *\n       * @param listener\n       * @public\n       */\n\n    }, {\n      key: \"offAny\",\n      value: function offAny(listener) {\n        if (!this._anyListeners) {\n          return this;\n        }\n\n        if (listener) {\n          var listeners = this._anyListeners;\n\n          for (var i = 0; i < listeners.length; i++) {\n            if (listener === listeners[i]) {\n              listeners.splice(i, 1);\n              return this;\n            }\n          }\n        } else {\n          this._anyListeners = [];\n        }\n\n        return this;\n      }\n      /**\n       * Returns an array of listeners that are listening for any event that is specified. This array can be manipulated,\n       * e.g. to remove listeners.\n       *\n       * @public\n       */\n\n    }, {\n      key: \"listenersAny\",\n      value: function listenersAny() {\n        return this._anyListeners || [];\n      }\n    }]);\n\n    return Socket;\n  }(Emitter_1);\n\n  /**\n   * Expose `Backoff`.\n   */\n\n  var backo2 = Backoff;\n  /**\n   * Initialize backoff timer with `opts`.\n   *\n   * - `min` initial timeout in milliseconds [100]\n   * - `max` max timeout [10000]\n   * - `jitter` [0]\n   * - `factor` [2]\n   *\n   * @param {Object} opts\n   * @api public\n   */\n\n  function Backoff(opts) {\n    opts = opts || {};\n    this.ms = opts.min || 100;\n    this.max = opts.max || 10000;\n    this.factor = opts.factor || 2;\n    this.jitter = opts.jitter > 0 && opts.jitter <= 1 ? opts.jitter : 0;\n    this.attempts = 0;\n  }\n  /**\n   * Return the backoff duration.\n   *\n   * @return {Number}\n   * @api public\n   */\n\n\n  Backoff.prototype.duration = function () {\n    var ms = this.ms * Math.pow(this.factor, this.attempts++);\n\n    if (this.jitter) {\n      var rand = Math.random();\n      var deviation = Math.floor(rand * this.jitter * ms);\n      ms = (Math.floor(rand * 10) & 1) == 0 ? ms - deviation : ms + deviation;\n    }\n\n    return Math.min(ms, this.max) | 0;\n  };\n  /**\n   * Reset the number of attempts.\n   *\n   * @api public\n   */\n\n\n  Backoff.prototype.reset = function () {\n    this.attempts = 0;\n  };\n  /**\n   * Set the minimum duration\n   *\n   * @api public\n   */\n\n\n  Backoff.prototype.setMin = function (min) {\n    this.ms = min;\n  };\n  /**\n   * Set the maximum duration\n   *\n   * @api public\n   */\n\n\n  Backoff.prototype.setMax = function (max) {\n    this.max = max;\n  };\n  /**\n   * Set the jitter\n   *\n   * @api public\n   */\n\n\n  Backoff.prototype.setJitter = function (jitter) {\n    this.jitter = jitter;\n  };\n\n  var Manager = /*#__PURE__*/function (_Emitter) {\n    _inherits(Manager, _Emitter);\n\n    var _super = _createSuper(Manager);\n\n    function Manager(uri, opts) {\n      var _this;\n\n      _classCallCheck(this, Manager);\n\n      var _a;\n\n      _this = _super.call(this);\n      _this.nsps = {};\n      _this.subs = [];\n\n      if (uri && \"object\" === _typeof(uri)) {\n        opts = uri;\n        uri = undefined;\n      }\n\n      opts = opts || {};\n      opts.path = opts.path || \"/socket.io\";\n      _this.opts = opts;\n      installTimerFunctions(_assertThisInitialized(_this), opts);\n\n      _this.reconnection(opts.reconnection !== false);\n\n      _this.reconnectionAttempts(opts.reconnectionAttempts || Infinity);\n\n      _this.reconnectionDelay(opts.reconnectionDelay || 1000);\n\n      _this.reconnectionDelayMax(opts.reconnectionDelayMax || 5000);\n\n      _this.randomizationFactor((_a = opts.randomizationFactor) !== null && _a !== void 0 ? _a : 0.5);\n\n      _this.backoff = new backo2({\n        min: _this.reconnectionDelay(),\n        max: _this.reconnectionDelayMax(),\n        jitter: _this.randomizationFactor()\n      });\n\n      _this.timeout(null == opts.timeout ? 20000 : opts.timeout);\n\n      _this._readyState = \"closed\";\n      _this.uri = uri;\n\n      var _parser = opts.parser || parser;\n\n      _this.encoder = new _parser.Encoder();\n      _this.decoder = new _parser.Decoder();\n      _this._autoConnect = opts.autoConnect !== false;\n      if (_this._autoConnect) _this.open();\n      return _this;\n    }\n\n    _createClass(Manager, [{\n      key: \"reconnection\",\n      value: function reconnection(v) {\n        if (!arguments.length) return this._reconnection;\n        this._reconnection = !!v;\n        return this;\n      }\n    }, {\n      key: \"reconnectionAttempts\",\n      value: function reconnectionAttempts(v) {\n        if (v === undefined) return this._reconnectionAttempts;\n        this._reconnectionAttempts = v;\n        return this;\n      }\n    }, {\n      key: \"reconnectionDelay\",\n      value: function reconnectionDelay(v) {\n        var _a;\n\n        if (v === undefined) return this._reconnectionDelay;\n        this._reconnectionDelay = v;\n        (_a = this.backoff) === null || _a === void 0 ? void 0 : _a.setMin(v);\n        return this;\n      }\n    }, {\n      key: \"randomizationFactor\",\n      value: function randomizationFactor(v) {\n        var _a;\n\n        if (v === undefined) return this._randomizationFactor;\n        this._randomizationFactor = v;\n        (_a = this.backoff) === null || _a === void 0 ? void 0 : _a.setJitter(v);\n        return this;\n      }\n    }, {\n      key: \"reconnectionDelayMax\",\n      value: function reconnectionDelayMax(v) {\n        var _a;\n\n        if (v === undefined) return this._reconnectionDelayMax;\n        this._reconnectionDelayMax = v;\n        (_a = this.backoff) === null || _a === void 0 ? void 0 : _a.setMax(v);\n        return this;\n      }\n    }, {\n      key: \"timeout\",\n      value: function timeout(v) {\n        if (!arguments.length) return this._timeout;\n        this._timeout = v;\n        return this;\n      }\n      /**\n       * Starts trying to reconnect if reconnection is enabled and we have not\n       * started reconnecting yet\n       *\n       * @private\n       */\n\n    }, {\n      key: \"maybeReconnectOnOpen\",\n      value: function maybeReconnectOnOpen() {\n        // Only try to reconnect if it's the first time we're connecting\n        if (!this._reconnecting && this._reconnection && this.backoff.attempts === 0) {\n          // keeps reconnection from firing twice for the same reconnection loop\n          this.reconnect();\n        }\n      }\n      /**\n       * Sets the current transport `socket`.\n       *\n       * @param {Function} fn - optional, callback\n       * @return self\n       * @public\n       */\n\n    }, {\n      key: \"open\",\n      value: function open(fn) {\n        var _this2 = this;\n\n        if (~this._readyState.indexOf(\"open\")) return this;\n        this.engine = new Socket$1(this.uri, this.opts);\n        var socket = this.engine;\n        var self = this;\n        this._readyState = \"opening\";\n        this.skipReconnect = false; // emit `open`\n\n        var openSubDestroy = on(socket, \"open\", function () {\n          self.onopen();\n          fn && fn();\n        }); // emit `error`\n\n        var errorSub = on(socket, \"error\", function (err) {\n          self.cleanup();\n          self._readyState = \"closed\";\n\n          _this2.emitReserved(\"error\", err);\n\n          if (fn) {\n            fn(err);\n          } else {\n            // Only do this if there is no fn to handle the error\n            self.maybeReconnectOnOpen();\n          }\n        });\n\n        if (false !== this._timeout) {\n          var timeout = this._timeout;\n\n          if (timeout === 0) {\n            openSubDestroy(); // prevents a race condition with the 'open' event\n          } // set timer\n\n\n          var timer = this.setTimeoutFn(function () {\n            openSubDestroy();\n            socket.close(); // @ts-ignore\n\n            socket.emit(\"error\", new Error(\"timeout\"));\n          }, timeout);\n\n          if (this.opts.autoUnref) {\n            timer.unref();\n          }\n\n          this.subs.push(function subDestroy() {\n            clearTimeout(timer);\n          });\n        }\n\n        this.subs.push(openSubDestroy);\n        this.subs.push(errorSub);\n        return this;\n      }\n      /**\n       * Alias for open()\n       *\n       * @return self\n       * @public\n       */\n\n    }, {\n      key: \"connect\",\n      value: function connect(fn) {\n        return this.open(fn);\n      }\n      /**\n       * Called upon transport open.\n       *\n       * @private\n       */\n\n    }, {\n      key: \"onopen\",\n      value: function onopen() {\n        // clear old subs\n        this.cleanup(); // mark as open\n\n        this._readyState = \"open\";\n        this.emitReserved(\"open\"); // add new subs\n\n        var socket = this.engine;\n        this.subs.push(on(socket, \"ping\", this.onping.bind(this)), on(socket, \"data\", this.ondata.bind(this)), on(socket, \"error\", this.onerror.bind(this)), on(socket, \"close\", this.onclose.bind(this)), on(this.decoder, \"decoded\", this.ondecoded.bind(this)));\n      }\n      /**\n       * Called upon a ping.\n       *\n       * @private\n       */\n\n    }, {\n      key: \"onping\",\n      value: function onping() {\n        this.emitReserved(\"ping\");\n      }\n      /**\n       * Called with data.\n       *\n       * @private\n       */\n\n    }, {\n      key: \"ondata\",\n      value: function ondata(data) {\n        this.decoder.add(data);\n      }\n      /**\n       * Called when parser fully decodes a packet.\n       *\n       * @private\n       */\n\n    }, {\n      key: \"ondecoded\",\n      value: function ondecoded(packet) {\n        this.emitReserved(\"packet\", packet);\n      }\n      /**\n       * Called upon socket error.\n       *\n       * @private\n       */\n\n    }, {\n      key: \"onerror\",\n      value: function onerror(err) {\n        this.emitReserved(\"error\", err);\n      }\n      /**\n       * Creates a new socket for the given `nsp`.\n       *\n       * @return {Socket}\n       * @public\n       */\n\n    }, {\n      key: \"socket\",\n      value: function socket(nsp, opts) {\n        var socket = this.nsps[nsp];\n\n        if (!socket) {\n          socket = new Socket(this, nsp, opts);\n          this.nsps[nsp] = socket;\n        }\n\n        return socket;\n      }\n      /**\n       * Called upon a socket close.\n       *\n       * @param socket\n       * @private\n       */\n\n    }, {\n      key: \"_destroy\",\n      value: function _destroy(socket) {\n        var nsps = Object.keys(this.nsps);\n\n        for (var _i = 0, _nsps = nsps; _i < _nsps.length; _i++) {\n          var nsp = _nsps[_i];\n          var _socket = this.nsps[nsp];\n\n          if (_socket.active) {\n            return;\n          }\n        }\n\n        this._close();\n      }\n      /**\n       * Writes a packet.\n       *\n       * @param packet\n       * @private\n       */\n\n    }, {\n      key: \"_packet\",\n      value: function _packet(packet) {\n        var encodedPackets = this.encoder.encode(packet);\n\n        for (var i = 0; i < encodedPackets.length; i++) {\n          this.engine.write(encodedPackets[i], packet.options);\n        }\n      }\n      /**\n       * Clean up transport subscriptions and packet buffer.\n       *\n       * @private\n       */\n\n    }, {\n      key: \"cleanup\",\n      value: function cleanup() {\n        this.subs.forEach(function (subDestroy) {\n          return subDestroy();\n        });\n        this.subs.length = 0;\n        this.decoder.destroy();\n      }\n      /**\n       * Close the current socket.\n       *\n       * @private\n       */\n\n    }, {\n      key: \"_close\",\n      value: function _close() {\n        this.skipReconnect = true;\n        this._reconnecting = false;\n        this.onclose(\"forced close\");\n        if (this.engine) this.engine.close();\n      }\n      /**\n       * Alias for close()\n       *\n       * @private\n       */\n\n    }, {\n      key: \"disconnect\",\n      value: function disconnect() {\n        return this._close();\n      }\n      /**\n       * Called upon engine close.\n       *\n       * @private\n       */\n\n    }, {\n      key: \"onclose\",\n      value: function onclose(reason) {\n        this.cleanup();\n        this.backoff.reset();\n        this._readyState = \"closed\";\n        this.emitReserved(\"close\", reason);\n\n        if (this._reconnection && !this.skipReconnect) {\n          this.reconnect();\n        }\n      }\n      /**\n       * Attempt a reconnection.\n       *\n       * @private\n       */\n\n    }, {\n      key: \"reconnect\",\n      value: function reconnect() {\n        var _this3 = this;\n\n        if (this._reconnecting || this.skipReconnect) return this;\n        var self = this;\n\n        if (this.backoff.attempts >= this._reconnectionAttempts) {\n          this.backoff.reset();\n          this.emitReserved(\"reconnect_failed\");\n          this._reconnecting = false;\n        } else {\n          var delay = this.backoff.duration();\n          this._reconnecting = true;\n          var timer = this.setTimeoutFn(function () {\n            if (self.skipReconnect) return;\n\n            _this3.emitReserved(\"reconnect_attempt\", self.backoff.attempts); // check again for the case socket closed in above events\n\n\n            if (self.skipReconnect) return;\n            self.open(function (err) {\n              if (err) {\n                self._reconnecting = false;\n                self.reconnect();\n\n                _this3.emitReserved(\"reconnect_error\", err);\n              } else {\n                self.onreconnect();\n              }\n            });\n          }, delay);\n\n          if (this.opts.autoUnref) {\n            timer.unref();\n          }\n\n          this.subs.push(function subDestroy() {\n            clearTimeout(timer);\n          });\n        }\n      }\n      /**\n       * Called upon successful reconnect.\n       *\n       * @private\n       */\n\n    }, {\n      key: \"onreconnect\",\n      value: function onreconnect() {\n        var attempt = this.backoff.attempts;\n        this._reconnecting = false;\n        this.backoff.reset();\n        this.emitReserved(\"reconnect\", attempt);\n      }\n    }]);\n\n    return Manager;\n  }(Emitter_1);\n\n  /**\n   * Managers cache.\n   */\n\n  var cache = {};\n\n  function lookup(uri, opts) {\n    if (_typeof(uri) === \"object\") {\n      opts = uri;\n      uri = undefined;\n    }\n\n    opts = opts || {};\n    var parsed = url(uri, opts.path || \"/socket.io\");\n    var source = parsed.source;\n    var id = parsed.id;\n    var path = parsed.path;\n    var sameNamespace = cache[id] && path in cache[id][\"nsps\"];\n    var newConnection = opts.forceNew || opts[\"force new connection\"] || false === opts.multiplex || sameNamespace;\n    var io;\n\n    if (newConnection) {\n      io = new Manager(source, opts);\n    } else {\n      if (!cache[id]) {\n        cache[id] = new Manager(source, opts);\n      }\n\n      io = cache[id];\n    }\n\n    if (parsed.query && !opts.query) {\n      opts.query = parsed.queryKey;\n    }\n\n    return io.socket(parsed.path, opts);\n  } // so that \"lookup\" can be used both as a function (e.g. `io(...)`) and as a\n  // namespace (e.g. `io.connect(...)`), for backward compatibility\n\n\n  _extends(lookup, {\n    Manager: Manager,\n    Socket: Socket,\n    io: lookup,\n    connect: lookup\n  });\n\n  return lookup;\n\n}));\n//# sourceMappingURL=socket.io.js.map\n"],"names":["global","factory","exports","module","define","amd","globalThis","self","io","this","_typeof","obj1","Symbol","iterator","obj","constructor","prototype","_classCallCheck","instance","Constructor","TypeError","_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","_createClass","protoProps","staticProps","_extends","assign","arguments","source","hasOwnProperty","call","apply","_inherits","subClass","superClass","create","value","_setPrototypeOf","_getPrototypeOf","o1","setPrototypeOf","getPrototypeOf","o","__proto__","o2","p1","p","_assertThisInitialized","ReferenceError","_possibleConstructorReturn","_createSuper","Derived","hasNativeReflectConstruct","Reflect","construct","sham","Proxy","Boolean","valueOf","e","_isNativeReflectConstruct","result","Super","NewTarget","_get","target1","property1","receiver1","get","property","receiver","base","object","_superPropBase","desc","getOwnPropertyDescriptor","_arrayLikeToArray","arr","len","arr2","Array","_createForOfIteratorHelper","allowArrayLike","it","isArray","minLen","n","toString","slice","name","from","test","_unsupportedIterableToArray","F","s","done","f","err","normalCompletion","didErr","step","next","return","re","parts","parseuri","str","src","b","indexOf","substring","replace","query","data","m","exec","uri","host","authority","ipv6uri","pathNames","path","regx","names","split","substr","splice","queryKey","$0","$1","$2","hasCors","XMLHttpRequest","err1","hasCORS","window","Function","XMLHttpRequest$1","opts","xdomain","concat","join","e1","pick","_len","attr","_key","reduce","acc","k","NATIVE_SET_TIMEOUT","setTimeout","NATIVE_CLEAR_TIMEOUT","clearTimeout","installTimerFunctions","useNativeTimers","setTimeoutFn","bind","clearTimeoutFn","Emitter_1","Emitter","mixin","on","addEventListener","event","fn","_callbacks","push","once","off","removeListener","removeAllListeners","removeEventListener","cb","callbacks","emit","args","emitReserved","listeners","hasListeners","PACKET_TYPES","PACKET_TYPES_REVERSE","keys","forEach","ERROR_PACKET","type","withNativeBlob$1","Blob","withNativeArrayBuffer$2","ArrayBuffer","encodePacket","_ref","supportsBinary","callback","encodeBlobAsBase64","isView","buffer","fileReader","FileReader","onload","content","readAsDataURL","chars","lookup$1","Uint8Array","i$1","charCodeAt","prev","withNativeArrayBuffer$1","decodePacket","encodedPacket","binaryType","mapBinary","charAt","decodeBase64Packet","decoded","base64","encoded1","encoded2","encoded3","encoded4","bufferLength","arraybuffer","bytes","decode$1","SEPARATOR","String","fromCharCode","Transport1","_Emitter","Transport","_super","_this","readyState","socket","msg","Error","description","doOpen","doClose","onClose","packets","write","packet","onPacket","alphabet","map","seed","i1","encode","num","encoded","Math","floor","yeast","now","Date","decode","yeast_1","parseqs","encodeURIComponent","qs","qry","pairs","l","pair","decodeURIComponent","Polling1","_Transport","Polling","polling","poll","onPause","_this2","pause","total","doPoll","_this3","encodedPayload","encodedPackets","decodedPacket","decodePayload","onOpen","_this4","close","_this5","count","encodePayload","doWrite","schema","secure","port","timestampRequests","timestampParam","sid","b64","Number","encodedQuery","hostname","empty","hasXHR2","responseType","XHR1","_Polling","XHR","location","isSSL","protocol","xd","xs","forceBase64","undefined","Request1","req","request","method","onError","onData","pollXhr","Request","_super2","async","xscheme","xhr","open","extraHeaders","setDisableHeaderCheck","setRequestHeader","e2","e3","withCredentials","requestTimeout","timeout","onreadystatechange","status","onLoad","send","document","index","requestsCount","requests","cleanup","onSuccess","fromError","abort","responseText","attachEvent","unloadHandler","nextTick","Promise","resolve","then","WebSocket","MozWebSocket","isReactNative","navigator","product","toLowerCase","transports","websocket","WS","check","protocols","headers","ws","addEventListeners","onopen","autoUnref","_socket","unref","onclose","onmessage","ev","onerror","_loop","lastPacket","i2","Socket$1","Socket","writeBuffer","prevBufferLen","agent","upgrade","rememberUpgrade","rejectUnauthorized","perMessageDeflate","threshold","transportOptions","closeOnBeforeunload","id","upgrades","pingInterval","pingTimeout","pingTimeoutTimer","transport","offlineEventListener","clone","EIO","priorWebsocketSuccess","createTransport","shift","setTransport","onDrain","failed","onTransportOpen","upgrading","flush","freezeTransport","error","onTransportClose","onupgrade","to","probe","onHandshake","JSON","parse","resetPingTimeout","sendPacket","code","filterUpgrades","options","compress","_this6","cleanupAndClose1","cleanupAndClose","waitForUpgrade","reason","filteredUpgrades","j","withNativeArrayBuffer","withNativeBlob","withNativeFile","File","isBinary","hasBinary","toJSON","deconstructPacket","buffers","packetData","pack","_deconstructPacket","attachments","placeholder","_placeholder","newData","_newData","reconstructPacket","_reconstructPacket","PacketType1","PacketType","Encoder1","Encoder","EVENT","ACK","encodeAsString","BINARY_EVENT","BINARY_ACK","encodeAsBinary","nsp","stringify","deconstruction","unshift","Decoder1","Decoder","decodeString","reconstructor","BinaryReconstructor1","takeBinaryData","start","buf","_start","_start2","_c","payload","tryParse","isPayloadValid","finishedReconstruction","CONNECT","DISCONNECT","CONNECT_ERROR","BinaryReconstructor","reconPack","binData","parser","freeze","on1","RESERVED_EVENTS","connect","connect_error","disconnect","disconnecting","newListener","Socket1","connected","disconnected","receiveBuffer","sendBuffer","ids","acks","flags","auth","_autoConnect","subs","onpacket","subEvents","_readyState","_len2","_key2","ack","pop","_registerAckCallback","isTransportWritable","engine","discardPacket","timer","_len3","_key3","_packet","onconnect","onevent","onack","ondisconnect","destroy","message","emitEvent","_anyListeners","_step","_iterator","sent","_len4","_key4","emitBuffered","subDestroy","_compress","_timeout","listener","backo2","Backoff","ms","min","max","factor","jitter","attempts","duration","pow","rand","random","deviation","reset","setMin","setMax","setJitter","Manager1","Manager","_a","nsps","reconnection","reconnectionAttempts","Infinity","reconnectionDelay","reconnectionDelayMax","randomizationFactor","backoff","_parser","encoder","decoder","autoConnect","v","_reconnection","_reconnectionAttempts","_reconnectionDelay","_randomizationFactor","_reconnectionDelayMax","_reconnecting","reconnect","skipReconnect","openSubDestroy","errorSub","maybeReconnectOnOpen","onping","ondata","ondecoded","add","_i","_nsps","active","_close","delay","onreconnect","attempt","cache","lookup","parsed","loc","href","url","sameNamespace","forceNew","multiplex"],"version":3,"file":"index.b45ae772.js.map"}